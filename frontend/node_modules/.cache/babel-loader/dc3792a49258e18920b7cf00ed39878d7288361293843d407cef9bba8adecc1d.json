{"ast":null,"code":"import React,{memo}from'react';import'./NoteCard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PinIcon=_ref=>{let{size=16}=_ref;return/*#__PURE__*/_jsxs(\"svg\",{width:size,height:size,viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M12 17V22M12 17C9.79086 17 8 15.2091 8 13C8 10.7909 9.79086 9 12 9C14.2091 9 16 10.7909 16 13C16 15.2091 14.2091 17 12 17Z\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 2V9\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\"})]});};const DeleteIcon=_ref2=>{let{size=16}=_ref2;return/*#__PURE__*/_jsxs(\"svg\",{width:size,height:size,viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M3 6H5H21M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M10 11V17M14 11V17\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\"})]});};const NoteCard=/*#__PURE__*/memo(_ref3=>{let{note,onEdit,onDelete,onPin}=_ref3;const formatDate=dateString=>{const date=new Date(dateString);const now=new Date();const diffTime=Math.abs(now-date);const diffDays=Math.ceil(diffTime/(1000*60*60*24));if(diffDays===1)return'Сегодня';if(diffDays===2)return'Вчера';if(diffDays<=7)return\"\".concat(diffDays-1,\" \\u0434\\u043D\\u0435\\u0439 \\u043D\\u0430\\u0437\\u0430\\u0434\");return date.toLocaleDateString('ru-RU',{day:'numeric',month:'long',year:date.getFullYear()!==now.getFullYear()?'numeric':undefined});};const stripHtml=html=>{const tmp=document.createElement('DIV');tmp.innerHTML=html;return tmp.textContent||tmp.innerText||'';};const preview=stripHtml(note.content||'').substring(0,150);return/*#__PURE__*/_jsxs(\"div\",{className:\"note-card \".concat(note.is_pinned?'pinned':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"note-card-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"note-title\",onClick:()=>onEdit(note),children:[note.is_pinned&&/*#__PURE__*/_jsx(\"span\",{className:\"pin-icon\",children:/*#__PURE__*/_jsx(PinIcon,{size:16})}),note.title]}),/*#__PURE__*/_jsxs(\"div\",{className:\"note-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn\",onClick:()=>onPin(note.id),title:note.is_pinned?'Открепить':'Закрепить',children:/*#__PURE__*/_jsx(PinIcon,{size:18})}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete\",onClick:()=>onDelete(note.id),title:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\",children:/*#__PURE__*/_jsx(DeleteIcon,{size:18})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"note-content\",onClick:()=>onEdit(note),children:preview||'Нет содержимого'}),note.tags&&note.tags.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"note-tags\",children:note.tags.map(tag=>/*#__PURE__*/_jsx(\"span\",{className:\"note-tag\",style:{borderColor:tag.color,color:tag.color},children:tag.name},tag.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"note-footer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"note-date\",children:formatDate(note.updated_at||note.created_at)}),note.folder_name&&/*#__PURE__*/_jsxs(\"span\",{className:\"note-folder\",children:[/*#__PURE__*/_jsxs(\"svg\",{width:\"14\",height:\"14\",viewBox:\"0 0 24 24\",fill:\"none\",style:{display:'inline-block',verticalAlign:'middle',marginRight:'4px'},children:[/*#__PURE__*/_jsx(\"path\",{d:\"M3 7V5C3 3.89543 3.89543 3 5 3H19C20.1046 3 21 3.89543 21 5V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V17\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M7 3V21\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\"})]}),note.folder_name]})]})]});});NoteCard.displayName='NoteCard';export default NoteCard;","map":{"version":3,"names":["React","memo","jsx","_jsx","jsxs","_jsxs","PinIcon","_ref","size","width","height","viewBox","fill","xmlns","children","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","DeleteIcon","_ref2","NoteCard","_ref3","note","onEdit","onDelete","onPin","formatDate","dateString","date","Date","now","diffTime","Math","abs","diffDays","ceil","concat","toLocaleDateString","day","month","year","getFullYear","undefined","stripHtml","html","tmp","document","createElement","innerHTML","textContent","innerText","preview","content","substring","className","is_pinned","onClick","title","id","tags","length","map","tag","style","borderColor","color","name","updated_at","created_at","folder_name","display","verticalAlign","marginRight","displayName"],"sources":["/Users/mikhail/Downloads/ЗаметкиPARADIZE/frontend/src/components/Notes/NoteCard.js"],"sourcesContent":["import React, { memo } from 'react';\nimport './NoteCard.css';\n\nconst PinIcon = ({ size = 16 }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M12 17V22M12 17C9.79086 17 8 15.2091 8 13C8 10.7909 9.79086 9 12 9C14.2091 9 16 10.7909 16 13C16 15.2091 14.2091 17 12 17Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M12 2V9\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n  </svg>\n);\n\nconst DeleteIcon = ({ size = 16 }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M3 6H5H21M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M10 11V17M14 11V17\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n  </svg>\n);\n\nconst NoteCard = memo(({ note, onEdit, onDelete, onPin }) => {\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffTime = Math.abs(now - date);\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n\n    if (diffDays === 1) return 'Сегодня';\n    if (diffDays === 2) return 'Вчера';\n    if (diffDays <= 7) return `${diffDays - 1} дней назад`;\n    \n    return date.toLocaleDateString('ru-RU', {\n      day: 'numeric',\n      month: 'long',\n      year: date.getFullYear() !== now.getFullYear() ? 'numeric' : undefined\n    });\n  };\n\n  const stripHtml = (html) => {\n    const tmp = document.createElement('DIV');\n    tmp.innerHTML = html;\n    return tmp.textContent || tmp.innerText || '';\n  };\n\n  const preview = stripHtml(note.content || '').substring(0, 150);\n\n  return (\n    <div className={`note-card ${note.is_pinned ? 'pinned' : ''}`}>\n      <div className=\"note-card-header\">\n        <h3 className=\"note-title\" onClick={() => onEdit(note)}>\n          {note.is_pinned && (\n            <span className=\"pin-icon\">\n              <PinIcon size={16} />\n            </span>\n          )}\n          {note.title}\n        </h3>\n        <div className=\"note-actions\">\n          <button\n            className=\"action-btn\"\n            onClick={() => onPin(note.id)}\n            title={note.is_pinned ? 'Открепить' : 'Закрепить'}\n          >\n            <PinIcon size={18} />\n          </button>\n          <button\n            className=\"action-btn delete\"\n            onClick={() => onDelete(note.id)}\n            title=\"Удалить\"\n          >\n            <DeleteIcon size={18} />\n          </button>\n        </div>\n      </div>\n      <div className=\"note-content\" onClick={() => onEdit(note)}>\n        {preview || 'Нет содержимого'}\n      </div>\n      {note.tags && note.tags.length > 0 && (\n        <div className=\"note-tags\">\n          {note.tags.map(tag => (\n            <span\n              key={tag.id}\n              className=\"note-tag\"\n              style={{ borderColor: tag.color, color: tag.color }}\n            >\n              {tag.name}\n            </span>\n          ))}\n        </div>\n      )}\n      <div className=\"note-footer\">\n        <span className=\"note-date\">{formatDate(note.updated_at || note.created_at)}</span>\n        {note.folder_name && (\n          <span className=\"note-folder\">\n            <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" style={{ display: 'inline-block', verticalAlign: 'middle', marginRight: '4px' }}>\n              <path d=\"M3 7V5C3 3.89543 3.89543 3 5 3H19C20.1046 3 21 3.89543 21 5V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V17\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n              <path d=\"M7 3V21\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n            </svg>\n            {note.folder_name}\n          </span>\n        )}\n      </div>\n    </div>\n  );\n});\n\nNoteCard.displayName = 'NoteCard';\n\nexport default NoteCard;\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}