{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{useNavigate}from'react-router-dom';import'./UserDropdown.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserDropdown=_ref=>{var _user$username,_user$username$;let{user,onLogout,onCreateNote}=_ref;const[isOpen,setIsOpen]=useState(false);const dropdownRef=useRef(null);const navigate=useNavigate();useEffect(()=>{const handleClickOutside=event=>{if(dropdownRef.current&&!dropdownRef.current.contains(event.target)){setIsOpen(false);}};if(isOpen){document.addEventListener('mousedown',handleClickOutside);}return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[isOpen]);const handleItemClick=action=>{setIsOpen(false);if(action==='create'){onCreateNote();}else if(action==='logout'){onLogout();}else if(action==='settings'){navigate('/settings');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"user-dropdown\",ref:dropdownRef,children:[/*#__PURE__*/_jsxs(\"button\",{className:\"user-dropdown-trigger\",onClick:()=>setIsOpen(!isOpen),title:user===null||user===void 0?void 0:user.username,children:[/*#__PURE__*/_jsx(\"span\",{className:\"user-avatar\",children:(user===null||user===void 0?void 0:(_user$username=user.username)===null||_user$username===void 0?void 0:(_user$username$=_user$username[0])===null||_user$username$===void 0?void 0:_user$username$.toUpperCase())||/*#__PURE__*/_jsxs(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"7\",r:\"4\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})]})}),/*#__PURE__*/_jsx(\"span\",{className:\"user-name\",children:user===null||user===void 0?void 0:user.username}),/*#__PURE__*/_jsx(\"span\",{className:\"dropdown-arrow\",children:/*#__PURE__*/_jsx(\"svg\",{width:\"12\",height:\"12\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",style:{transform:isOpen?'rotate(180deg)':'rotate(0deg)',transition:'transform 0.2s'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M6 9L12 15L18 9\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})})})]}),isOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"user-dropdown-menu\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"dropdown-username\",children:user===null||user===void 0?void 0:user.username}),/*#__PURE__*/_jsx(\"span\",{className:\"dropdown-email\",children:(user===null||user===void 0?void 0:user.email)||''})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-divider\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"dropdown-item\",onClick:()=>handleItemClick('settings'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"dropdown-icon\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"3\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 1V3M12 21V23M4.22 4.22L5.64 5.64M18.36 18.36L19.78 19.78M1 12H3M21 12H23M4.22 19.78L5.64 18.36M18.36 5.64L19.78 4.22\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\"})]})}),\"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-divider\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"dropdown-item dropdown-item-danger\",onClick:()=>handleItemClick('logout'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"dropdown-icon\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M16 17L21 12L16 7\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M21 12H9\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})]})}),\"\\u0412\\u044B\\u0439\\u0442\\u0438\"]})]})]});};export default UserDropdown;","map":{"version":3,"names":["React","useState","useRef","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","UserDropdown","_ref","_user$username","_user$username$","user","onLogout","onCreateNote","isOpen","setIsOpen","dropdownRef","navigate","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleItemClick","action","className","ref","children","onClick","title","username","toUpperCase","width","height","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","r","style","transform","transition","email"],"sources":["/Users/mikhail/Downloads/blo-pro/frontend/src/components/Header/UserDropdown.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './UserDropdown.css';\n\nconst UserDropdown = ({ user, onLogout, onCreateNote }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const dropdownRef = useRef(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsOpen(false);\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isOpen]);\n\n  const handleItemClick = (action) => {\n    setIsOpen(false);\n    if (action === 'create') {\n      onCreateNote();\n    } else if (action === 'logout') {\n      onLogout();\n    } else if (action === 'settings') {\n      navigate('/settings');\n    }\n  };\n\n  return (\n    <div className=\"user-dropdown\" ref={dropdownRef}>\n      <button\n        className=\"user-dropdown-trigger\"\n        onClick={() => setIsOpen(!isOpen)}\n        title={user?.username}\n      >\n        <span className=\"user-avatar\">\n          {user?.username?.[0]?.toUpperCase() || (\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              <circle cx=\"12\" cy=\"7\" r=\"4\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            </svg>\n          )}\n        </span>\n        <span className=\"user-name\">{user?.username}</span>\n        <span className=\"dropdown-arrow\">\n          <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style={{ transform: isOpen ? 'rotate(180deg)' : 'rotate(0deg)', transition: 'transform 0.2s' }}>\n            <path d=\"M6 9L12 15L18 9\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n          </svg>\n        </span>\n      </button>\n\n      {isOpen && (\n        <div className=\"user-dropdown-menu\">\n          <div className=\"dropdown-header\">\n            <span className=\"dropdown-username\">{user?.username}</span>\n            <span className=\"dropdown-email\">{user?.email || ''}</span>\n          </div>\n          <div className=\"dropdown-divider\"></div>\n          <button\n            className=\"dropdown-item\"\n            onClick={() => handleItemClick('settings')}\n          >\n            <span className=\"dropdown-icon\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <circle cx=\"12\" cy=\"12\" r=\"3\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                <path d=\"M12 1V3M12 21V23M4.22 4.22L5.64 5.64M18.36 18.36L19.78 19.78M1 12H3M21 12H23M4.22 19.78L5.64 18.36M18.36 5.64L19.78 4.22\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n              </svg>\n            </span>\n            Настройки\n          </button>\n          <div className=\"dropdown-divider\"></div>\n          <button\n            className=\"dropdown-item dropdown-item-danger\"\n            onClick={() => handleItemClick('logout')}\n          >\n            <span className=\"dropdown-icon\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                <path d=\"M16 17L21 12L16 7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                <path d=\"M21 12H9\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              </svg>\n            </span>\n            Выйти\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default UserDropdown;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}