{"ast":null,"code":"import React,{useState,useEffect}from'react';import{templatesAPI,notesAPI}from'../../api/api';import'./TemplatesSection.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TemplatesSection=_ref=>{let{onTemplateSelect}=_ref;const[templates,setTemplates]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{loadTemplates();},[]);const loadTemplates=async()=>{try{var _response$data;const response=await templatesAPI.getAll();console.log('Templates response:',response);const templatesData=Array.isArray(response.data)?response.data:((_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.results)||[];setTemplates(templatesData);if(templatesData.length===0){console.warn('No templates found. Make sure templates are initialized.');}}catch(error){var _error$response;console.error('Error loading templates:',error);console.error('Error details:',(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data);setTemplates([]);}finally{setLoading(false);}};const handleTemplateClick=async template=>{try{const response=await notesAPI.createFromTemplate(template.id);// –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –∑–∞–º–µ—Ç–æ–∫ –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä\nonTemplateSelect(response.data);}catch(error){console.error('Error creating note from template:',error);alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–º–µ—Ç–∫–∏ –∏–∑ —à–∞–±–ª–æ–Ω–∞');}};if(loading){return/*#__PURE__*/_jsx(\"section\",{className:\"templates-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"templates-loading\",children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0448\\u0430\\u0431\\u043B\\u043E\\u043D\\u043E\\u0432...\"})});}if(!Array.isArray(templates)||templates.length===0){return/*#__PURE__*/_jsxs(\"section\",{className:\"templates-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"templates-title\",children:\"\\uD83D\\uDCCB \\u0428\\u0430\\u0431\\u043B\\u043E\\u043D\\u044B \\u0437\\u0430\\u043C\\u0435\\u0442\\u043E\\u043A\"}),/*#__PURE__*/_jsx(\"div\",{className:\"templates-empty\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u0428\\u0430\\u0431\\u043B\\u043E\\u043D\\u044B \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u044B. \\u041E\\u0431\\u0440\\u0430\\u0442\\u0438\\u0442\\u0435\\u0441\\u044C \\u043A \\u0430\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\\u0443 \\u0434\\u043B\\u044F \\u0438\\u043D\\u0438\\u0446\\u0438\\u0430\\u043B\\u0438\\u0437\\u0430\\u0446\\u0438\\u0438 \\u0448\\u0430\\u0431\\u043B\\u043E\\u043D\\u043E\\u0432.\"})})]});}return/*#__PURE__*/_jsxs(\"section\",{className:\"templates-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"templates-title\",children:\"\\uD83D\\uDCCB \\u0428\\u0430\\u0431\\u043B\\u043E\\u043D\\u044B \\u0437\\u0430\\u043C\\u0435\\u0442\\u043E\\u043A\"}),/*#__PURE__*/_jsx(\"div\",{className:\"templates-grid\",children:templates.map(template=>/*#__PURE__*/_jsxs(\"div\",{className:\"template-card\",onClick:()=>handleTemplateClick(template),children:[/*#__PURE__*/_jsx(\"div\",{className:\"template-icon\",dangerouslySetInnerHTML:{__html:template.icon_svg}}),/*#__PURE__*/_jsx(\"h3\",{className:\"template-name\",children:template.name}),template.description&&/*#__PURE__*/_jsx(\"p\",{className:\"template-description\",children:template.description})]},template.id))})]});};export default TemplatesSection;","map":{"version":3,"names":["React","useState","useEffect","templatesAPI","notesAPI","jsx","_jsx","jsxs","_jsxs","TemplatesSection","_ref","onTemplateSelect","templates","setTemplates","loading","setLoading","loadTemplates","_response$data","response","getAll","console","log","templatesData","Array","isArray","data","results","length","warn","error","_error$response","handleTemplateClick","template","createFromTemplate","id","alert","className","children","map","onClick","dangerouslySetInnerHTML","__html","icon_svg","name","description"],"sources":["/Users/mikhail/Downloads/–ó–∞–º–µ—Ç–∫–∏PARADIZE/frontend/src/components/Templates/TemplatesSection.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { templatesAPI, notesAPI } from '../../api/api';\nimport './TemplatesSection.css';\n\nconst TemplatesSection = ({ onTemplateSelect }) => {\n  const [templates, setTemplates] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadTemplates();\n  }, []);\n\n  const loadTemplates = async () => {\n    try {\n      const response = await templatesAPI.getAll();\n      console.log('Templates response:', response);\n      const templatesData = Array.isArray(response.data) ? response.data : \n                           (response.data?.results || []);\n      setTemplates(templatesData);\n      if (templatesData.length === 0) {\n        console.warn('No templates found. Make sure templates are initialized.');\n      }\n    } catch (error) {\n      console.error('Error loading templates:', error);\n      console.error('Error details:', error.response?.data);\n      setTemplates([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleTemplateClick = async (template) => {\n    try {\n      const response = await notesAPI.createFromTemplate(template.id);\n      // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –∑–∞–º–µ—Ç–æ–∫ –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä\n      onTemplateSelect(response.data);\n    } catch (error) {\n      console.error('Error creating note from template:', error);\n      alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–º–µ—Ç–∫–∏ –∏–∑ —à–∞–±–ª–æ–Ω–∞');\n    }\n  };\n\n  if (loading) {\n    return (\n      <section className=\"templates-section\">\n        <div className=\"templates-loading\">–ó–∞–≥—Ä—É–∑–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤...</div>\n      </section>\n    );\n  }\n\n  if (!Array.isArray(templates) || templates.length === 0) {\n    return (\n      <section className=\"templates-section\">\n        <h2 className=\"templates-title\">üìã –®–∞–±–ª–æ–Ω—ã –∑–∞–º–µ—Ç–æ–∫</h2>\n        <div className=\"templates-empty\">\n          <p>–®–∞–±–ª–æ–Ω—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —à–∞–±–ª–æ–Ω–æ–≤.</p>\n        </div>\n      </section>\n    );\n  }\n\n  return (\n    <section className=\"templates-section\">\n      <h2 className=\"templates-title\">üìã –®–∞–±–ª–æ–Ω—ã –∑–∞–º–µ—Ç–æ–∫</h2>\n      <div className=\"templates-grid\">\n        {templates.map(template => (\n          <div\n            key={template.id}\n            className=\"template-card\"\n            onClick={() => handleTemplateClick(template)}\n          >\n            <div className=\"template-icon\" dangerouslySetInnerHTML={{ __html: template.icon_svg }} />\n            <h3 className=\"template-name\">{template.name}</h3>\n            {template.description && (\n              <p className=\"template-description\">{template.description}</p>\n            )}\n          </div>\n        ))}\n      </div>\n    </section>\n  );\n};\n\nexport default TemplatesSection;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}