{"ast":null,"code":"import React,{useState,memo,useEffect}from'react';import toast from'react-hot-toast';import{foldersAPI,tagsAPI,templatesAPI}from'../../api/api';import FolderForm from'./FolderForm';import TagForm from'./TagForm';import SidebarTabs from'./SidebarTabs';import SkeletonList from'../Skeleton/SkeletonList';import'./Sidebar.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Sidebar=/*#__PURE__*/memo(_ref=>{let{folders,tags,selectedFolder,selectedTags,onFolderSelect,onTagSelect,onFolderCreate,onTagCreate,onTemplateSelect,loading=false}=_ref;const[activeTab,setActiveTab]=useState('folders');const[showFolderForm,setShowFolderForm]=useState(false);const[showTagForm,setShowTagForm]=useState(false);const[templates,setTemplates]=useState([]);const[showTemplates,setShowTemplates]=useState(false);const[loadingTemplates,setLoadingTemplates]=useState(false);const handleFolderCreate=async folderData=>{try{const response=await foldersAPI.create(folderData);console.log('Folder creation response:',response);if(response&&(response.data||response.status===201)){setShowFolderForm(false);toast.success('–ü–∞–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∞');// –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –ø–∞–ø–æ–∫\nif(onFolderCreate){await onFolderCreate();}}else{throw new Error('–ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞');}}catch(error){var _error$response,_error$response$data,_error$response2,_error$response2$data;console.error('Error creating folder:',error);const errorMessage=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.detail)||error.message||'–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–∞–ø–∫–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.';toast.error(errorMessage);}};const handleTagCreate=async tagData=>{try{const response=await tagsAPI.create(tagData);console.log('Tag creation response:',response);if(response&&(response.data||response.status===201)){setShowTagForm(false);toast.success('–¢–µ–≥ —Å–æ–∑–¥–∞–Ω');// –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤\nif(onTagCreate){await onTagCreate();}}else{throw new Error('–ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞');}}catch(error){var _error$response3,_error$response3$data,_error$response4,_error$response4$data;console.error('Error creating tag:',error);const errorMessage=((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.detail)||error.message||'–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–µ–≥–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.';toast.error(errorMessage);}};const toggleTag=tagId=>{if(selectedTags.includes(tagId)){onTagSelect(selectedTags.filter(id=>id!==tagId));}else{onTagSelect([...selectedTags,tagId]);}};const handleContextMenu=(e,type,item)=>{e.preventDefault();// TODO: –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é\nconsole.log('Context menu:',type,item);};useEffect(()=>{if(showTemplates&&templates.length===0){loadTemplates();}},[showTemplates]);const loadTemplates=async()=>{try{setLoadingTemplates(true);const response=await templatesAPI.getAll();setTemplates(Array.isArray(response.data)?response.data:[]);}catch(error){console.error('Error loading templates:',error);toast.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —à–∞–±–ª–æ–Ω–æ–≤');}finally{setLoadingTemplates(false);}};const handleTemplateClick=template=>{if(onTemplateSelect){onTemplateSelect(template);}setShowTemplates(false);};return/*#__PURE__*/_jsxs(\"aside\",{className:\"sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-templates-section\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"sidebar-templates-btn\",onClick:()=>setShowTemplates(!showTemplates),children:[/*#__PURE__*/_jsxs(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M14 2V8H20\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M16 13H8\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M16 17H8\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M10 9H9H8\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\"})]}),\"\\u0428\\u0430\\u0431\\u043B\\u043E\\u043D\\u044B\",/*#__PURE__*/_jsx(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",style:{transform:showTemplates?'rotate(180deg)':'rotate(0deg)',transition:'transform 0.3s'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M6 9L12 15L18 9\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})})]}),showTemplates&&/*#__PURE__*/_jsx(\"div\",{className:\"templates-list\",children:loadingTemplates?/*#__PURE__*/_jsx(SkeletonList,{count:3}):templates.length>0?templates.map(template=>/*#__PURE__*/_jsx(\"button\",{className:\"template-item\",onClick:()=>handleTemplateClick(template),dangerouslySetInnerHTML:{__html:template.icon_svg},title:template.name},template.id)):/*#__PURE__*/_jsx(\"div\",{className:\"empty-message\",children:\"\\u041D\\u0435\\u0442 \\u0448\\u0430\\u0431\\u043B\\u043E\\u043D\\u043E\\u0432\"})})]}),/*#__PURE__*/_jsx(SidebarTabs,{activeTab:activeTab,onTabChange:setActiveTab,children:activeTab==='folders'?/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCC1 \\u041F\\u0430\\u043F\\u043A\\u0438\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-add\",onClick:()=>setShowFolderForm(!showFolderForm),title:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043F\\u0430\\u043F\\u043A\\u0443\",children:\"+\"})]}),showFolderForm&&/*#__PURE__*/_jsx(FolderForm,{onSubmit:handleFolderCreate,onCancel:()=>setShowFolderForm(false)}),loading?/*#__PURE__*/_jsx(SkeletonList,{count:5}):/*#__PURE__*/_jsxs(\"div\",{className:\"folder-list\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"folder-item \".concat(selectedFolder===null?'active':''),onClick:()=>onFolderSelect(null),children:\"\\uD83D\\uDCC2 \\u0412\\u0441\\u0435 \\u0437\\u0430\\u043C\\u0435\\u0442\\u043A\\u0438\"}),Array.isArray(folders)&&folders.length>0?folders.map(folder=>/*#__PURE__*/_jsxs(\"button\",{className:\"folder-item \".concat(selectedFolder===folder.id?'active':''),onClick:()=>onFolderSelect(folder.id),onContextMenu:e=>handleContextMenu(e,'folder',folder),style:{borderLeftColor:folder.color||'#90EE90'},children:[folder.is_favorite&&/*#__PURE__*/_jsx(\"span\",{children:\"\\u2B50 \"}),folder.name,/*#__PURE__*/_jsxs(\"span\",{className:\"folder-count\",children:[\"(\",folder.notes_count||0,\")\"]})]},folder.id)):/*#__PURE__*/_jsx(\"div\",{className:\"empty-message\",children:\"\\u041D\\u0435\\u0442 \\u043F\\u0430\\u043F\\u043E\\u043A. \\u0421\\u043E\\u0437\\u0434\\u0430\\u0439\\u0442\\u0435 \\u043F\\u0435\\u0440\\u0432\\u0443\\u044E!\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83C\\uDFF7\\uFE0F \\u0422\\u0435\\u0433\\u0438\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-add\",onClick:()=>setShowTagForm(!showTagForm),title:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u0442\\u0435\\u0433\",children:\"+\"})]}),showTagForm&&/*#__PURE__*/_jsx(TagForm,{onSubmit:handleTagCreate,onCancel:()=>setShowTagForm(false)}),loading?/*#__PURE__*/_jsx(SkeletonList,{count:5}):/*#__PURE__*/_jsx(\"div\",{className:\"tag-list\",children:Array.isArray(tags)&&tags.length>0?tags.sort((a,b)=>(b.usage_count||0)-(a.usage_count||0)).map(tag=>/*#__PURE__*/_jsxs(\"button\",{className:\"tag-item \".concat(selectedTags.includes(tag.id)?'active':''),onClick:()=>toggleTag(tag.id),onContextMenu:e=>handleContextMenu(e,'tag',tag),style:{backgroundColor:selectedTags.includes(tag.id)?tag.color||'#FFD700':'transparent',borderColor:tag.color||'#FFD700',color:selectedTags.includes(tag.id)?'#fff':tag.color||'#FFD700'},children:[tag.name,/*#__PURE__*/_jsxs(\"span\",{className:\"tag-count\",children:[\"(\",tag.notes_count||0,\")\"]})]},tag.id)):/*#__PURE__*/_jsx(\"div\",{className:\"empty-message\",children:\"\\u041D\\u0435\\u0442 \\u0442\\u0435\\u0433\\u043E\\u0432. \\u0421\\u043E\\u0437\\u0434\\u0430\\u0439\\u0442\\u0435 \\u043F\\u0435\\u0440\\u0432\\u044B\\u0439!\"})})]})})]});});Sidebar.displayName='Sidebar';export default Sidebar;","map":{"version":3,"names":["React","useState","memo","useEffect","toast","foldersAPI","tagsAPI","templatesAPI","FolderForm","TagForm","SidebarTabs","SkeletonList","jsx","_jsx","jsxs","_jsxs","Sidebar","_ref","folders","tags","selectedFolder","selectedTags","onFolderSelect","onTagSelect","onFolderCreate","onTagCreate","onTemplateSelect","loading","activeTab","setActiveTab","showFolderForm","setShowFolderForm","showTagForm","setShowTagForm","templates","setTemplates","showTemplates","setShowTemplates","loadingTemplates","setLoadingTemplates","handleFolderCreate","folderData","response","create","console","log","data","status","success","Error","error","_error$response","_error$response$data","_error$response2","_error$response2$data","errorMessage","detail","message","handleTagCreate","tagData","_error$response3","_error$response3$data","_error$response4","_error$response4$data","toggleTag","tagId","includes","filter","id","handleContextMenu","e","type","item","preventDefault","length","loadTemplates","getAll","Array","isArray","handleTemplateClick","template","className","children","onClick","width","height","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","style","transform","transition","count","map","dangerouslySetInnerHTML","__html","icon_svg","title","name","onTabChange","onSubmit","onCancel","concat","folder","onContextMenu","borderLeftColor","color","is_favorite","notes_count","sort","a","b","usage_count","tag","backgroundColor","borderColor","displayName"],"sources":["/Users/mikhail/Downloads/–ó–∞–º–µ—Ç–∫–∏PARADIZE/frontend/src/components/Sidebar/Sidebar.js"],"sourcesContent":["import React, { useState, memo, useEffect } from 'react';\nimport toast from 'react-hot-toast';\nimport { foldersAPI, tagsAPI, templatesAPI } from '../../api/api';\nimport FolderForm from './FolderForm';\nimport TagForm from './TagForm';\nimport SidebarTabs from './SidebarTabs';\nimport SkeletonList from '../Skeleton/SkeletonList';\nimport './Sidebar.css';\n\nconst Sidebar = memo(({\n  folders,\n  tags,\n  selectedFolder,\n  selectedTags,\n  onFolderSelect,\n  onTagSelect,\n  onFolderCreate,\n  onTagCreate,\n  onTemplateSelect,\n  loading = false,\n}) => {\n  const [activeTab, setActiveTab] = useState('folders');\n  const [showFolderForm, setShowFolderForm] = useState(false);\n  const [showTagForm, setShowTagForm] = useState(false);\n  const [templates, setTemplates] = useState([]);\n  const [showTemplates, setShowTemplates] = useState(false);\n  const [loadingTemplates, setLoadingTemplates] = useState(false);\n\n  const handleFolderCreate = async (folderData) => {\n    try {\n      const response = await foldersAPI.create(folderData);\n      console.log('Folder creation response:', response);\n      if (response && (response.data || response.status === 201)) {\n        setShowFolderForm(false);\n        toast.success('–ü–∞–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∞');\n        // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –ø–∞–ø–æ–∫\n        if (onFolderCreate) {\n          await onFolderCreate();\n        }\n      } else {\n        throw new Error('–ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞');\n      }\n    } catch (error) {\n      console.error('Error creating folder:', error);\n      const errorMessage = error.response?.data?.error || \n                          error.response?.data?.detail || \n                          error.message || \n                          '–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–∞–ø–∫–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.';\n      toast.error(errorMessage);\n    }\n  };\n\n  const handleTagCreate = async (tagData) => {\n    try {\n      const response = await tagsAPI.create(tagData);\n      console.log('Tag creation response:', response);\n      if (response && (response.data || response.status === 201)) {\n        setShowTagForm(false);\n        toast.success('–¢–µ–≥ —Å–æ–∑–¥–∞–Ω');\n        // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤\n        if (onTagCreate) {\n          await onTagCreate();\n        }\n      } else {\n        throw new Error('–ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞');\n      }\n    } catch (error) {\n      console.error('Error creating tag:', error);\n      const errorMessage = error.response?.data?.error || \n                          error.response?.data?.detail || \n                          error.message || \n                          '–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–µ–≥–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.';\n      toast.error(errorMessage);\n    }\n  };\n\n  const toggleTag = (tagId) => {\n    if (selectedTags.includes(tagId)) {\n      onTagSelect(selectedTags.filter(id => id !== tagId));\n    } else {\n      onTagSelect([...selectedTags, tagId]);\n    }\n  };\n\n  const handleContextMenu = (e, type, item) => {\n    e.preventDefault();\n    // TODO: –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é\n    console.log('Context menu:', type, item);\n  };\n\n  useEffect(() => {\n    if (showTemplates && templates.length === 0) {\n      loadTemplates();\n    }\n  }, [showTemplates]);\n\n  const loadTemplates = async () => {\n    try {\n      setLoadingTemplates(true);\n      const response = await templatesAPI.getAll();\n      setTemplates(Array.isArray(response.data) ? response.data : []);\n    } catch (error) {\n      console.error('Error loading templates:', error);\n      toast.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —à–∞–±–ª–æ–Ω–æ–≤');\n    } finally {\n      setLoadingTemplates(false);\n    }\n  };\n\n  const handleTemplateClick = (template) => {\n    if (onTemplateSelect) {\n      onTemplateSelect(template);\n    }\n    setShowTemplates(false);\n  };\n\n  return (\n    <aside className=\"sidebar\">\n      <div className=\"sidebar-templates-section\">\n        <button\n          className=\"sidebar-templates-btn\"\n          onClick={() => setShowTemplates(!showTemplates)}\n        >\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            <path d=\"M14 2V8H20\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            <path d=\"M16 13H8\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n            <path d=\"M16 17H8\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n            <path d=\"M10 9H9H8\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n          </svg>\n          –®–∞–±–ª–æ–Ω—ã\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" style={{ transform: showTemplates ? 'rotate(180deg)' : 'rotate(0deg)', transition: 'transform 0.3s' }}>\n            <path d=\"M6 9L12 15L18 9\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n          </svg>\n        </button>\n        {showTemplates && (\n          <div className=\"templates-list\">\n            {loadingTemplates ? (\n              <SkeletonList count={3} />\n            ) : templates.length > 0 ? (\n              templates.map(template => (\n                <button\n                  key={template.id}\n                  className=\"template-item\"\n                  onClick={() => handleTemplateClick(template)}\n                  dangerouslySetInnerHTML={{ __html: template.icon_svg }}\n                  title={template.name}\n                />\n              ))\n            ) : (\n              <div className=\"empty-message\">–ù–µ—Ç —à–∞–±–ª–æ–Ω–æ–≤</div>\n            )}\n          </div>\n        )}\n      </div>\n\n      <SidebarTabs activeTab={activeTab} onTabChange={setActiveTab}>\n        {activeTab === 'folders' ? (\n          <div className=\"sidebar-section\">\n            <div className=\"sidebar-header\">\n              <h3>üìÅ –ü–∞–ø–∫–∏</h3>\n              <button\n                className=\"btn-add\"\n                onClick={() => setShowFolderForm(!showFolderForm)}\n                title=\"–°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É\"\n              >\n                +\n              </button>\n            </div>\n            {showFolderForm && (\n              <FolderForm\n                onSubmit={handleFolderCreate}\n                onCancel={() => setShowFolderForm(false)}\n              />\n            )}\n            {loading ? (\n              <SkeletonList count={5} />\n            ) : (\n              <div className=\"folder-list\">\n                <button\n                  className={`folder-item ${selectedFolder === null ? 'active' : ''}`}\n                  onClick={() => onFolderSelect(null)}\n                >\n                  üìÇ –í—Å–µ –∑–∞–º–µ—Ç–∫–∏\n                </button>\n                {Array.isArray(folders) && folders.length > 0 ? (\n                  folders.map(folder => (\n                    <button\n                      key={folder.id}\n                      className={`folder-item ${selectedFolder === folder.id ? 'active' : ''}`}\n                      onClick={() => onFolderSelect(folder.id)}\n                      onContextMenu={(e) => handleContextMenu(e, 'folder', folder)}\n                      style={{ borderLeftColor: folder.color || '#90EE90' }}\n                    >\n                      {folder.is_favorite && <span>‚≠ê </span>}\n                      {folder.name}\n                      <span className=\"folder-count\">({folder.notes_count || 0})</span>\n                    </button>\n                  ))\n                ) : (\n                  <div className=\"empty-message\">–ù–µ—Ç –ø–∞–ø–æ–∫. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—É—é!</div>\n                )}\n              </div>\n            )}\n          </div>\n        ) : (\n          <div className=\"sidebar-section\">\n            <div className=\"sidebar-header\">\n              <h3>üè∑Ô∏è –¢–µ–≥–∏</h3>\n              <button\n                className=\"btn-add\"\n                onClick={() => setShowTagForm(!showTagForm)}\n                title=\"–°–æ–∑–¥–∞—Ç—å —Ç–µ–≥\"\n              >\n                +\n              </button>\n            </div>\n            {showTagForm && (\n              <TagForm\n                onSubmit={handleTagCreate}\n                onCancel={() => setShowTagForm(false)}\n              />\n            )}\n            {loading ? (\n              <SkeletonList count={5} />\n            ) : (\n              <div className=\"tag-list\">\n                {Array.isArray(tags) && tags.length > 0 ? (\n                  tags\n                    .sort((a, b) => (b.usage_count || 0) - (a.usage_count || 0))\n                    .map(tag => (\n                      <button\n                        key={tag.id}\n                        className={`tag-item ${selectedTags.includes(tag.id) ? 'active' : ''}`}\n                        onClick={() => toggleTag(tag.id)}\n                        onContextMenu={(e) => handleContextMenu(e, 'tag', tag)}\n                        style={{\n                          backgroundColor: selectedTags.includes(tag.id) ? (tag.color || '#FFD700') : 'transparent',\n                          borderColor: tag.color || '#FFD700',\n                          color: selectedTags.includes(tag.id) ? '#fff' : (tag.color || '#FFD700'),\n                        }}\n                      >\n                        {tag.name}\n                        <span className=\"tag-count\">({tag.notes_count || 0})</span>\n                      </button>\n                    ))\n                ) : (\n                  <div className=\"empty-message\">–ù–µ—Ç —Ç–µ–≥–æ–≤. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π!</div>\n                )}\n              </div>\n            )}\n          </div>\n        )}\n      </SidebarTabs>\n    </aside>\n  );\n});\n\nSidebar.displayName = 'Sidebar';\n\nexport default Sidebar;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}