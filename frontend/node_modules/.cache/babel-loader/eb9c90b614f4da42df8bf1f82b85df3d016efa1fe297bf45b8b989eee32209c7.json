{"ast":null,"code":"import _objectSpread from\"/Users/mikhail/Downloads/\\u0417\\u0430\\u043C\\u0435\\u0442\\u043A\\u0438PARADIZE/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import'./TemplateBuilder.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TemplateBuilder=_ref=>{let{template,onSave,onCancel}=_ref;const[formData,setFormData]=useState({});const[errors,setErrors]=useState({});const fields=(template===null||template===void 0?void 0:template.template_data)||[];const handleChange=(fieldName,value)=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:value}));// Очищаем ошибку при изменении\nif(errors[fieldName]){setErrors(prev=>{const newErrors=_objectSpread({},prev);delete newErrors[fieldName];return newErrors;});}};const validateField=(field,value)=>{if(field.required&&(!value||value.toString().trim()==='')){return\"\".concat(field.label,\" \\u043E\\u0431\\u044F\\u0437\\u0430\\u0442\\u0435\\u043B\\u0435\\u043D \\u0434\\u043B\\u044F \\u0437\\u0430\\u043F\\u043E\\u043B\\u043D\\u0435\\u043D\\u0438\\u044F\");}if(field.type==='number'&&value&&isNaN(value)){return\"\".concat(field.label,\" \\u0434\\u043E\\u043B\\u0436\\u0435\\u043D \\u0431\\u044B\\u0442\\u044C \\u0447\\u0438\\u0441\\u043B\\u043E\\u043C\");}return null;};const validateForm=()=>{const newErrors={};fields.forEach(field=>{const value=formData[field.name];const error=validateField(field,value);if(error){newErrors[field.name]=error;}});setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=e=>{e.preventDefault();if(validateForm()){// Генерируем HTML контент из заполненных данных\nconst htmlContent=generateHTMLContent(formData,fields,template);onSave({title:template.name,content:htmlContent,template:template.id,formData:formData});}};const renderField=field=>{var _field$options;const value=formData[field.name]||'';const error=errors[field.name];switch(field.type){case'textarea':return/*#__PURE__*/_jsxs(\"div\",{className:\"template-field\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"template-field-label\",children:[field.label,field.required&&/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"textarea\",{className:\"template-field-input \".concat(error?'error':''),value:value,onChange:e=>handleChange(field.name,e.target.value),placeholder:field.placeholder,rows:4}),error&&/*#__PURE__*/_jsx(\"span\",{className:\"field-error\",children:error})]},field.name);case'select':return/*#__PURE__*/_jsxs(\"div\",{className:\"template-field\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"template-field-label\",children:[field.label,field.required&&/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"template-field-input \".concat(error?'error':''),value:value,onChange:e=>handleChange(field.name,e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:field.placeholder}),(_field$options=field.options)===null||_field$options===void 0?void 0:_field$options.map((option,idx)=>/*#__PURE__*/_jsx(\"option\",{value:option,children:option},idx))]}),error&&/*#__PURE__*/_jsx(\"span\",{className:\"field-error\",children:error})]},field.name);case'checkbox':return/*#__PURE__*/_jsxs(\"div\",{className:\"template-field checkbox-field\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"template-field-label checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:value===true||value==='true',onChange:e=>handleChange(field.name,e.target.checked),className:\"template-checkbox\"}),/*#__PURE__*/_jsx(\"span\",{children:field.label})]}),error&&/*#__PURE__*/_jsx(\"span\",{className:\"field-error\",children:error})]},field.name);case'date':return/*#__PURE__*/_jsxs(\"div\",{className:\"template-field\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"template-field-label\",children:[field.label,field.required&&/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"template-field-input \".concat(error?'error':''),value:value,onChange:e=>handleChange(field.name,e.target.value),placeholder:field.placeholder}),error&&/*#__PURE__*/_jsx(\"span\",{className:\"field-error\",children:error})]},field.name);case'number':return/*#__PURE__*/_jsxs(\"div\",{className:\"template-field\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"template-field-label\",children:[field.label,field.required&&/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"template-field-input \".concat(error?'error':''),value:value,onChange:e=>handleChange(field.name,e.target.value),placeholder:field.placeholder}),error&&/*#__PURE__*/_jsx(\"span\",{className:\"field-error\",children:error})]},field.name);default:return/*#__PURE__*/_jsxs(\"div\",{className:\"template-field\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"template-field-label\",children:[field.label,field.required&&/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"template-field-input \".concat(error?'error':''),value:value,onChange:e=>handleChange(field.name,e.target.value),placeholder:field.placeholder}),error&&/*#__PURE__*/_jsx(\"span\",{className:\"field-error\",children:error})]},field.name);}};if(!template){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"template-builder\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"template-builder-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:template.name}),template.description&&/*#__PURE__*/_jsx(\"p\",{className:\"template-description\",children:template.description})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"template-form\",children:[fields.map(field=>renderField(field)),/*#__PURE__*/_jsxs(\"div\",{className:\"template-form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onCancel,className:\"btn-cancel\",children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-save\",children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u0437\\u0430\\u043C\\u0435\\u0442\\u043A\\u0443\"})]})]})]});};// Функция для генерации HTML контента из заполненных данных\nconst generateHTMLContent=(formData,fields,template)=>{const parts=[\"<div style=\\\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.6; max-width: 800px; margin: 0 auto; padding: 20px;\\\">\"];parts.push(\"<h1 style=\\\"text-align: center; font-size: 28px; margin-bottom: 30px; color: #1A202C;\\\">\".concat(template.name,\"</h1>\"));fields.forEach(field=>{const value=formData[field.name];if(value!==undefined&&value!==null&&value!==''&&value!==false){const label=field.label;if(field.type==='checkbox'){if(value===true||value==='true'){parts.push(\"<div style=\\\"margin-bottom: 20px;\\\"><strong style=\\\"color: #2D3748;\\\">\".concat(label,\":</strong> <span style=\\\"color: #4A5568;\\\">\\u0414\\u0430</span></div>\"));}}else if(field.type==='textarea'){parts.push(\"<div style=\\\"margin-bottom: 24px;\\\"><h3 style=\\\"color: #2D3748; font-size: 18px; margin-bottom: 8px;\\\">\".concat(label,\"</h3>\"));parts.push(\"<p style=\\\"color: #4A5568; white-space: pre-wrap; background: #F7FAFC; padding: 12px; border-radius: 8px;\\\">\".concat(escapeHtml(value).replace(/\\n/g,'<br>'),\"</p></div>\"));}else if(field.type==='date'){const dateValue=new Date(value).toLocaleDateString('ru-RU');parts.push(\"<div style=\\\"margin-bottom: 16px;\\\"><strong style=\\\"color: #2D3748;\\\">\".concat(label,\":</strong> <span style=\\\"color: #4A5568;\\\">\").concat(dateValue,\"</span></div>\"));}else{parts.push(\"<div style=\\\"margin-bottom: 16px;\\\"><strong style=\\\"color: #2D3748;\\\">\".concat(label,\":</strong> <span style=\\\"color: #4A5568;\\\">\").concat(escapeHtml(value),\"</span></div>\"));}}});parts.push('</div>');return parts.join('\\n');};// Функция для экранирования HTML\nconst escapeHtml=text=>{const div=document.createElement('div');div.textContent=text;return div.innerHTML;};export default TemplateBuilder;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","TemplateBuilder","_ref","template","onSave","onCancel","formData","setFormData","errors","setErrors","fields","template_data","handleChange","fieldName","value","prev","_objectSpread","newErrors","validateField","field","required","toString","trim","concat","label","type","isNaN","validateForm","forEach","name","error","Object","keys","length","handleSubmit","e","preventDefault","htmlContent","generateHTMLContent","title","content","id","renderField","_field$options","className","children","onChange","target","placeholder","rows","options","map","option","idx","checked","description","onSubmit","onClick","parts","push","undefined","escapeHtml","replace","dateValue","Date","toLocaleDateString","join","text","div","document","createElement","textContent","innerHTML"],"sources":["/Users/mikhail/Downloads/ЗаметкиPARADIZE/frontend/src/components/Templates/TemplateBuilder.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './TemplateBuilder.css';\n\nconst TemplateBuilder = ({ template, onSave, onCancel }) => {\n  const [formData, setFormData] = useState({});\n  const [errors, setErrors] = useState({});\n\n  const fields = template?.template_data || [];\n\n  const handleChange = (fieldName, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [fieldName]: value\n    }));\n    // Очищаем ошибку при изменении\n    if (errors[fieldName]) {\n      setErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors[fieldName];\n        return newErrors;\n      });\n    }\n  };\n\n  const validateField = (field, value) => {\n    if (field.required && (!value || value.toString().trim() === '')) {\n      return `${field.label} обязателен для заполнения`;\n    }\n    if (field.type === 'number' && value && isNaN(value)) {\n      return `${field.label} должен быть числом`;\n    }\n    return null;\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n    fields.forEach(field => {\n      const value = formData[field.name];\n      const error = validateField(field, value);\n      if (error) {\n        newErrors[field.name] = error;\n      }\n    });\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (validateForm()) {\n      // Генерируем HTML контент из заполненных данных\n      const htmlContent = generateHTMLContent(formData, fields, template);\n      onSave({\n        title: template.name,\n        content: htmlContent,\n        template: template.id,\n        formData: formData\n      });\n    }\n  };\n\n  const renderField = (field) => {\n    const value = formData[field.name] || '';\n    const error = errors[field.name];\n\n    switch (field.type) {\n      case 'textarea':\n        return (\n          <div key={field.name} className=\"template-field\">\n            <label className=\"template-field-label\">\n              {field.label}\n              {field.required && <span className=\"required\">*</span>}\n            </label>\n            <textarea\n              className={`template-field-input ${error ? 'error' : ''}`}\n              value={value}\n              onChange={(e) => handleChange(field.name, e.target.value)}\n              placeholder={field.placeholder}\n              rows={4}\n            />\n            {error && <span className=\"field-error\">{error}</span>}\n          </div>\n        );\n\n      case 'select':\n        return (\n          <div key={field.name} className=\"template-field\">\n            <label className=\"template-field-label\">\n              {field.label}\n              {field.required && <span className=\"required\">*</span>}\n            </label>\n            <select\n              className={`template-field-input ${error ? 'error' : ''}`}\n              value={value}\n              onChange={(e) => handleChange(field.name, e.target.value)}\n            >\n              <option value=\"\">{field.placeholder}</option>\n              {field.options?.map((option, idx) => (\n                <option key={idx} value={option}>{option}</option>\n              ))}\n            </select>\n            {error && <span className=\"field-error\">{error}</span>}\n          </div>\n        );\n\n      case 'checkbox':\n        return (\n          <div key={field.name} className=\"template-field checkbox-field\">\n            <label className=\"template-field-label checkbox-label\">\n              <input\n                type=\"checkbox\"\n                checked={value === true || value === 'true'}\n                onChange={(e) => handleChange(field.name, e.target.checked)}\n                className=\"template-checkbox\"\n              />\n              <span>{field.label}</span>\n            </label>\n            {error && <span className=\"field-error\">{error}</span>}\n          </div>\n        );\n\n      case 'date':\n        return (\n          <div key={field.name} className=\"template-field\">\n            <label className=\"template-field-label\">\n              {field.label}\n              {field.required && <span className=\"required\">*</span>}\n            </label>\n            <input\n              type=\"date\"\n              className={`template-field-input ${error ? 'error' : ''}`}\n              value={value}\n              onChange={(e) => handleChange(field.name, e.target.value)}\n              placeholder={field.placeholder}\n            />\n            {error && <span className=\"field-error\">{error}</span>}\n          </div>\n        );\n\n      case 'number':\n        return (\n          <div key={field.name} className=\"template-field\">\n            <label className=\"template-field-label\">\n              {field.label}\n              {field.required && <span className=\"required\">*</span>}\n            </label>\n            <input\n              type=\"number\"\n              className={`template-field-input ${error ? 'error' : ''}`}\n              value={value}\n              onChange={(e) => handleChange(field.name, e.target.value)}\n              placeholder={field.placeholder}\n            />\n            {error && <span className=\"field-error\">{error}</span>}\n          </div>\n        );\n\n      default:\n        return (\n          <div key={field.name} className=\"template-field\">\n            <label className=\"template-field-label\">\n              {field.label}\n              {field.required && <span className=\"required\">*</span>}\n            </label>\n            <input\n              type=\"text\"\n              className={`template-field-input ${error ? 'error' : ''}`}\n              value={value}\n              onChange={(e) => handleChange(field.name, e.target.value)}\n              placeholder={field.placeholder}\n            />\n            {error && <span className=\"field-error\">{error}</span>}\n          </div>\n        );\n    }\n  };\n\n  if (!template) {\n    return null;\n  }\n\n  return (\n    <div className=\"template-builder\">\n      <div className=\"template-builder-header\">\n        <h2>{template.name}</h2>\n        {template.description && (\n          <p className=\"template-description\">{template.description}</p>\n        )}\n      </div>\n      \n      <form onSubmit={handleSubmit} className=\"template-form\">\n        {fields.map(field => renderField(field))}\n        \n        <div className=\"template-form-actions\">\n          <button type=\"button\" onClick={onCancel} className=\"btn-cancel\">\n            Отмена\n          </button>\n          <button type=\"submit\" className=\"btn-save\">\n            Создать заметку\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\n// Функция для генерации HTML контента из заполненных данных\nconst generateHTMLContent = (formData, fields, template) => {\n  const parts = [`<div style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.6; max-width: 800px; margin: 0 auto; padding: 20px;\">`];\n  parts.push(`<h1 style=\"text-align: center; font-size: 28px; margin-bottom: 30px; color: #1A202C;\">${template.name}</h1>`);\n  \n  fields.forEach(field => {\n    const value = formData[field.name];\n    if (value !== undefined && value !== null && value !== '' && value !== false) {\n      const label = field.label;\n      \n      if (field.type === 'checkbox') {\n        if (value === true || value === 'true') {\n          parts.push(`<div style=\"margin-bottom: 20px;\"><strong style=\"color: #2D3748;\">${label}:</strong> <span style=\"color: #4A5568;\">Да</span></div>`);\n        }\n      } else if (field.type === 'textarea') {\n        parts.push(`<div style=\"margin-bottom: 24px;\"><h3 style=\"color: #2D3748; font-size: 18px; margin-bottom: 8px;\">${label}</h3>`);\n        parts.push(`<p style=\"color: #4A5568; white-space: pre-wrap; background: #F7FAFC; padding: 12px; border-radius: 8px;\">${escapeHtml(value).replace(/\\n/g, '<br>')}</p></div>`);\n      } else if (field.type === 'date') {\n        const dateValue = new Date(value).toLocaleDateString('ru-RU');\n        parts.push(`<div style=\"margin-bottom: 16px;\"><strong style=\"color: #2D3748;\">${label}:</strong> <span style=\"color: #4A5568;\">${dateValue}</span></div>`);\n      } else {\n        parts.push(`<div style=\"margin-bottom: 16px;\"><strong style=\"color: #2D3748;\">${label}:</strong> <span style=\"color: #4A5568;\">${escapeHtml(value)}</span></div>`);\n      }\n    }\n  });\n  \n  parts.push('</div>');\n  return parts.join('\\n');\n};\n\n// Функция для экранирования HTML\nconst escapeHtml = (text) => {\n  const div = document.createElement('div');\n  div.textContent = text;\n  return div.innerHTML;\n};\n\nexport default TemplateBuilder;\n\n"],"mappings":"yKAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/B,KAAM,CAAAC,eAAe,CAAGC,IAAA,EAAoC,IAAnC,CAAEC,QAAQ,CAAEC,MAAM,CAAEC,QAAS,CAAC,CAAAH,IAAA,CACrD,KAAM,CAACI,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC5C,KAAM,CAACY,MAAM,CAAEC,SAAS,CAAC,CAAGb,QAAQ,CAAC,CAAC,CAAC,CAAC,CAExC,KAAM,CAAAc,MAAM,CAAG,CAAAP,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEQ,aAAa,GAAI,EAAE,CAE5C,KAAM,CAAAC,YAAY,CAAGA,CAACC,SAAS,CAAEC,KAAK,GAAK,CACzCP,WAAW,CAACQ,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACXD,IAAI,MACP,CAACF,SAAS,EAAGC,KAAK,EAClB,CAAC,CACH;AACA,GAAIN,MAAM,CAACK,SAAS,CAAC,CAAE,CACrBJ,SAAS,CAACM,IAAI,EAAI,CAChB,KAAM,CAAAE,SAAS,CAAAD,aAAA,IAAQD,IAAI,CAAE,CAC7B,MAAO,CAAAE,SAAS,CAACJ,SAAS,CAAC,CAC3B,MAAO,CAAAI,SAAS,CAClB,CAAC,CAAC,CACJ,CACF,CAAC,CAED,KAAM,CAAAC,aAAa,CAAGA,CAACC,KAAK,CAAEL,KAAK,GAAK,CACtC,GAAIK,KAAK,CAACC,QAAQ,GAAK,CAACN,KAAK,EAAIA,KAAK,CAACO,QAAQ,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,GAAK,EAAE,CAAC,CAAE,CAChE,SAAAC,MAAA,CAAUJ,KAAK,CAACK,KAAK,kJACvB,CACA,GAAIL,KAAK,CAACM,IAAI,GAAK,QAAQ,EAAIX,KAAK,EAAIY,KAAK,CAACZ,KAAK,CAAC,CAAE,CACpD,SAAAS,MAAA,CAAUJ,KAAK,CAACK,KAAK,wGACvB,CACA,MAAO,KAAI,CACb,CAAC,CAED,KAAM,CAAAG,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAAV,SAAS,CAAG,CAAC,CAAC,CACpBP,MAAM,CAACkB,OAAO,CAACT,KAAK,EAAI,CACtB,KAAM,CAAAL,KAAK,CAAGR,QAAQ,CAACa,KAAK,CAACU,IAAI,CAAC,CAClC,KAAM,CAAAC,KAAK,CAAGZ,aAAa,CAACC,KAAK,CAAEL,KAAK,CAAC,CACzC,GAAIgB,KAAK,CAAE,CACTb,SAAS,CAACE,KAAK,CAACU,IAAI,CAAC,CAAGC,KAAK,CAC/B,CACF,CAAC,CAAC,CACFrB,SAAS,CAACQ,SAAS,CAAC,CACpB,MAAO,CAAAc,MAAM,CAACC,IAAI,CAACf,SAAS,CAAC,CAACgB,MAAM,GAAK,CAAC,CAC5C,CAAC,CAED,KAAM,CAAAC,YAAY,CAAIC,CAAC,EAAK,CAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAIT,YAAY,CAAC,CAAC,CAAE,CAClB;AACA,KAAM,CAAAU,WAAW,CAAGC,mBAAmB,CAAChC,QAAQ,CAAEI,MAAM,CAAEP,QAAQ,CAAC,CACnEC,MAAM,CAAC,CACLmC,KAAK,CAAEpC,QAAQ,CAAC0B,IAAI,CACpBW,OAAO,CAAEH,WAAW,CACpBlC,QAAQ,CAAEA,QAAQ,CAACsC,EAAE,CACrBnC,QAAQ,CAAEA,QACZ,CAAC,CAAC,CACJ,CACF,CAAC,CAED,KAAM,CAAAoC,WAAW,CAAIvB,KAAK,EAAK,KAAAwB,cAAA,CAC7B,KAAM,CAAA7B,KAAK,CAAGR,QAAQ,CAACa,KAAK,CAACU,IAAI,CAAC,EAAI,EAAE,CACxC,KAAM,CAAAC,KAAK,CAAGtB,MAAM,CAACW,KAAK,CAACU,IAAI,CAAC,CAEhC,OAAQV,KAAK,CAACM,IAAI,EAChB,IAAK,UAAU,CACb,mBACEzB,KAAA,QAAsB4C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC9C7C,KAAA,UAAO4C,SAAS,CAAC,sBAAsB,CAAAC,QAAA,EACpC1B,KAAK,CAACK,KAAK,CACXL,KAAK,CAACC,QAAQ,eAAItB,IAAA,SAAM8C,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,GAAC,CAAM,CAAC,EACjD,CAAC,cACR/C,IAAA,aACE8C,SAAS,yBAAArB,MAAA,CAA0BO,KAAK,CAAG,OAAO,CAAG,EAAE,CAAG,CAC1DhB,KAAK,CAAEA,KAAM,CACbgC,QAAQ,CAAGX,CAAC,EAAKvB,YAAY,CAACO,KAAK,CAACU,IAAI,CAAEM,CAAC,CAACY,MAAM,CAACjC,KAAK,CAAE,CAC1DkC,WAAW,CAAE7B,KAAK,CAAC6B,WAAY,CAC/BC,IAAI,CAAE,CAAE,CACT,CAAC,CACDnB,KAAK,eAAIhC,IAAA,SAAM8C,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEf,KAAK,CAAO,CAAC,GAZ9CX,KAAK,CAACU,IAaX,CAAC,CAGV,IAAK,QAAQ,CACX,mBACE7B,KAAA,QAAsB4C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC9C7C,KAAA,UAAO4C,SAAS,CAAC,sBAAsB,CAAAC,QAAA,EACpC1B,KAAK,CAACK,KAAK,CACXL,KAAK,CAACC,QAAQ,eAAItB,IAAA,SAAM8C,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,GAAC,CAAM,CAAC,EACjD,CAAC,cACR7C,KAAA,WACE4C,SAAS,yBAAArB,MAAA,CAA0BO,KAAK,CAAG,OAAO,CAAG,EAAE,CAAG,CAC1DhB,KAAK,CAAEA,KAAM,CACbgC,QAAQ,CAAGX,CAAC,EAAKvB,YAAY,CAACO,KAAK,CAACU,IAAI,CAAEM,CAAC,CAACY,MAAM,CAACjC,KAAK,CAAE,CAAA+B,QAAA,eAE1D/C,IAAA,WAAQgB,KAAK,CAAC,EAAE,CAAA+B,QAAA,CAAE1B,KAAK,CAAC6B,WAAW,CAAS,CAAC,EAAAL,cAAA,CAC5CxB,KAAK,CAAC+B,OAAO,UAAAP,cAAA,iBAAbA,cAAA,CAAeQ,GAAG,CAAC,CAACC,MAAM,CAAEC,GAAG,gBAC9BvD,IAAA,WAAkBgB,KAAK,CAAEsC,MAAO,CAAAP,QAAA,CAAEO,MAAM,EAA3BC,GAAoC,CAClD,CAAC,EACI,CAAC,CACRvB,KAAK,eAAIhC,IAAA,SAAM8C,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEf,KAAK,CAAO,CAAC,GAf9CX,KAAK,CAACU,IAgBX,CAAC,CAGV,IAAK,UAAU,CACb,mBACE7B,KAAA,QAAsB4C,SAAS,CAAC,+BAA+B,CAAAC,QAAA,eAC7D7C,KAAA,UAAO4C,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eACpD/C,IAAA,UACE2B,IAAI,CAAC,UAAU,CACf6B,OAAO,CAAExC,KAAK,GAAK,IAAI,EAAIA,KAAK,GAAK,MAAO,CAC5CgC,QAAQ,CAAGX,CAAC,EAAKvB,YAAY,CAACO,KAAK,CAACU,IAAI,CAAEM,CAAC,CAACY,MAAM,CAACO,OAAO,CAAE,CAC5DV,SAAS,CAAC,mBAAmB,CAC9B,CAAC,cACF9C,IAAA,SAAA+C,QAAA,CAAO1B,KAAK,CAACK,KAAK,CAAO,CAAC,EACrB,CAAC,CACPM,KAAK,eAAIhC,IAAA,SAAM8C,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEf,KAAK,CAAO,CAAC,GAV9CX,KAAK,CAACU,IAWX,CAAC,CAGV,IAAK,MAAM,CACT,mBACE7B,KAAA,QAAsB4C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC9C7C,KAAA,UAAO4C,SAAS,CAAC,sBAAsB,CAAAC,QAAA,EACpC1B,KAAK,CAACK,KAAK,CACXL,KAAK,CAACC,QAAQ,eAAItB,IAAA,SAAM8C,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,GAAC,CAAM,CAAC,EACjD,CAAC,cACR/C,IAAA,UACE2B,IAAI,CAAC,MAAM,CACXmB,SAAS,yBAAArB,MAAA,CAA0BO,KAAK,CAAG,OAAO,CAAG,EAAE,CAAG,CAC1DhB,KAAK,CAAEA,KAAM,CACbgC,QAAQ,CAAGX,CAAC,EAAKvB,YAAY,CAACO,KAAK,CAACU,IAAI,CAAEM,CAAC,CAACY,MAAM,CAACjC,KAAK,CAAE,CAC1DkC,WAAW,CAAE7B,KAAK,CAAC6B,WAAY,CAChC,CAAC,CACDlB,KAAK,eAAIhC,IAAA,SAAM8C,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEf,KAAK,CAAO,CAAC,GAZ9CX,KAAK,CAACU,IAaX,CAAC,CAGV,IAAK,QAAQ,CACX,mBACE7B,KAAA,QAAsB4C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC9C7C,KAAA,UAAO4C,SAAS,CAAC,sBAAsB,CAAAC,QAAA,EACpC1B,KAAK,CAACK,KAAK,CACXL,KAAK,CAACC,QAAQ,eAAItB,IAAA,SAAM8C,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,GAAC,CAAM,CAAC,EACjD,CAAC,cACR/C,IAAA,UACE2B,IAAI,CAAC,QAAQ,CACbmB,SAAS,yBAAArB,MAAA,CAA0BO,KAAK,CAAG,OAAO,CAAG,EAAE,CAAG,CAC1DhB,KAAK,CAAEA,KAAM,CACbgC,QAAQ,CAAGX,CAAC,EAAKvB,YAAY,CAACO,KAAK,CAACU,IAAI,CAAEM,CAAC,CAACY,MAAM,CAACjC,KAAK,CAAE,CAC1DkC,WAAW,CAAE7B,KAAK,CAAC6B,WAAY,CAChC,CAAC,CACDlB,KAAK,eAAIhC,IAAA,SAAM8C,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEf,KAAK,CAAO,CAAC,GAZ9CX,KAAK,CAACU,IAaX,CAAC,CAGV,QACE,mBACE7B,KAAA,QAAsB4C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC9C7C,KAAA,UAAO4C,SAAS,CAAC,sBAAsB,CAAAC,QAAA,EACpC1B,KAAK,CAACK,KAAK,CACXL,KAAK,CAACC,QAAQ,eAAItB,IAAA,SAAM8C,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,GAAC,CAAM,CAAC,EACjD,CAAC,cACR/C,IAAA,UACE2B,IAAI,CAAC,MAAM,CACXmB,SAAS,yBAAArB,MAAA,CAA0BO,KAAK,CAAG,OAAO,CAAG,EAAE,CAAG,CAC1DhB,KAAK,CAAEA,KAAM,CACbgC,QAAQ,CAAGX,CAAC,EAAKvB,YAAY,CAACO,KAAK,CAACU,IAAI,CAAEM,CAAC,CAACY,MAAM,CAACjC,KAAK,CAAE,CAC1DkC,WAAW,CAAE7B,KAAK,CAAC6B,WAAY,CAChC,CAAC,CACDlB,KAAK,eAAIhC,IAAA,SAAM8C,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEf,KAAK,CAAO,CAAC,GAZ9CX,KAAK,CAACU,IAaX,CAAC,CAEZ,CACF,CAAC,CAED,GAAI,CAAC1B,QAAQ,CAAE,CACb,MAAO,KAAI,CACb,CAEA,mBACEH,KAAA,QAAK4C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B7C,KAAA,QAAK4C,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC/C,IAAA,OAAA+C,QAAA,CAAK1C,QAAQ,CAAC0B,IAAI,CAAK,CAAC,CACvB1B,QAAQ,CAACoD,WAAW,eACnBzD,IAAA,MAAG8C,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAE1C,QAAQ,CAACoD,WAAW,CAAI,CAC9D,EACE,CAAC,cAENvD,KAAA,SAAMwD,QAAQ,CAAEtB,YAAa,CAACU,SAAS,CAAC,eAAe,CAAAC,QAAA,EACpDnC,MAAM,CAACyC,GAAG,CAAChC,KAAK,EAAIuB,WAAW,CAACvB,KAAK,CAAC,CAAC,cAExCnB,KAAA,QAAK4C,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpC/C,IAAA,WAAQ2B,IAAI,CAAC,QAAQ,CAACgC,OAAO,CAAEpD,QAAS,CAACuC,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,sCAEhE,CAAQ,CAAC,cACT/C,IAAA,WAAQ2B,IAAI,CAAC,QAAQ,CAACmB,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,uFAE3C,CAAQ,CAAC,EACN,CAAC,EACF,CAAC,EACJ,CAAC,CAEV,CAAC,CAED;AACA,KAAM,CAAAP,mBAAmB,CAAGA,CAAChC,QAAQ,CAAEI,MAAM,CAAEP,QAAQ,GAAK,CAC1D,KAAM,CAAAuD,KAAK,CAAG,sKAAoK,CAClLA,KAAK,CAACC,IAAI,4FAAApC,MAAA,CAA0FpB,QAAQ,CAAC0B,IAAI,SAAO,CAAC,CAEzHnB,MAAM,CAACkB,OAAO,CAACT,KAAK,EAAI,CACtB,KAAM,CAAAL,KAAK,CAAGR,QAAQ,CAACa,KAAK,CAACU,IAAI,CAAC,CAClC,GAAIf,KAAK,GAAK8C,SAAS,EAAI9C,KAAK,GAAK,IAAI,EAAIA,KAAK,GAAK,EAAE,EAAIA,KAAK,GAAK,KAAK,CAAE,CAC5E,KAAM,CAAAU,KAAK,CAAGL,KAAK,CAACK,KAAK,CAEzB,GAAIL,KAAK,CAACM,IAAI,GAAK,UAAU,CAAE,CAC7B,GAAIX,KAAK,GAAK,IAAI,EAAIA,KAAK,GAAK,MAAM,CAAE,CACtC4C,KAAK,CAACC,IAAI,0EAAApC,MAAA,CAAsEC,KAAK,wEAA0D,CAAC,CAClJ,CACF,CAAC,IAAM,IAAIL,KAAK,CAACM,IAAI,GAAK,UAAU,CAAE,CACpCiC,KAAK,CAACC,IAAI,2GAAApC,MAAA,CAAuGC,KAAK,SAAO,CAAC,CAC9HkC,KAAK,CAACC,IAAI,gHAAApC,MAAA,CAA8GsC,UAAU,CAAC/C,KAAK,CAAC,CAACgD,OAAO,CAAC,KAAK,CAAE,MAAM,CAAC,cAAY,CAAC,CAC/K,CAAC,IAAM,IAAI3C,KAAK,CAACM,IAAI,GAAK,MAAM,CAAE,CAChC,KAAM,CAAAsC,SAAS,CAAG,GAAI,CAAAC,IAAI,CAAClD,KAAK,CAAC,CAACmD,kBAAkB,CAAC,OAAO,CAAC,CAC7DP,KAAK,CAACC,IAAI,0EAAApC,MAAA,CAAsEC,KAAK,gDAAAD,MAAA,CAA4CwC,SAAS,iBAAe,CAAC,CAC5J,CAAC,IAAM,CACLL,KAAK,CAACC,IAAI,0EAAApC,MAAA,CAAsEC,KAAK,gDAAAD,MAAA,CAA4CsC,UAAU,CAAC/C,KAAK,CAAC,iBAAe,CAAC,CACpK,CACF,CACF,CAAC,CAAC,CAEF4C,KAAK,CAACC,IAAI,CAAC,QAAQ,CAAC,CACpB,MAAO,CAAAD,KAAK,CAACQ,IAAI,CAAC,IAAI,CAAC,CACzB,CAAC,CAED;AACA,KAAM,CAAAL,UAAU,CAAIM,IAAI,EAAK,CAC3B,KAAM,CAAAC,GAAG,CAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC,CACzCF,GAAG,CAACG,WAAW,CAAGJ,IAAI,CACtB,MAAO,CAAAC,GAAG,CAACI,SAAS,CACtB,CAAC,CAED,cAAe,CAAAvE,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}