{"ast":null,"code":"import axios from'axios';// Используем относительный путь для работы на одном порту\nconst API_BASE_URL='/api';const api=axios.create({baseURL:API_BASE_URL,withCredentials:true,headers:{'Content-Type':'application/json'}});// Interceptors для обработки ошибок\napi.interceptors.response.use(response=>response,error=>{var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){// Перенаправление на страницу входа при 401\nwindow.location.href='/login';}return Promise.reject(error);});export default api;// API методы для заметок\nexport const notesAPI={getAll:params=>api.get('/notes/',{params}),getById:id=>api.get(\"/notes/\".concat(id,\"/\")),create:data=>api.post('/notes/',data),update:(id,data)=>api.put(\"/notes/\".concat(id,\"/\"),data),delete:id=>api.delete(\"/notes/\".concat(id,\"/\")),pin:id=>api.post(\"/notes/\".concat(id,\"/pin/\")),archive:id=>api.post(\"/notes/\".concat(id,\"/archive/\")),createFromTemplate:templateId=>api.post('/notes/create_from_template/',{template_id:templateId}),moveToFolder:(id,folderId)=>api.post(\"/notes/\".concat(id,\"/move_to_folder/\"),{folder_id:folderId})};// API методы для шаблонов\nexport const templatesAPI={getAll:()=>api.get('/templates/'),getById:id=>api.get(\"/templates/\".concat(id,\"/\"))};// API методы для папок\nexport const foldersAPI={getAll:params=>api.get('/folders/',{params}),getById:id=>api.get(\"/folders/\".concat(id,\"/\")),create:data=>api.post('/folders/',data),update:(id,data)=>api.put(\"/folders/\".concat(id,\"/\"),data),delete:id=>api.delete(\"/folders/\".concat(id,\"/\")),getTree:()=>api.get('/folders/tree/'),toggleFavorite:id=>api.post(\"/folders/\".concat(id,\"/toggle_favorite/\"))};// API методы для тегов\nexport const tagsAPI={getAll:params=>api.get('/tags/',{params}),getById:id=>api.get(\"/tags/\".concat(id,\"/\")),create:data=>api.post('/tags/',data),update:(id,data)=>api.put(\"/tags/\".concat(id,\"/\"),data),delete:id=>api.delete(\"/tags/\".concat(id,\"/\")),getCloud:()=>api.get('/tags/cloud/'),autocomplete:query=>api.get('/tags/autocomplete/',{params:{q:query}}),getStatistics:()=>api.get('/tags/statistics/')};// API методы для аутентификации\nexport const authAPI={login:(username,password)=>api.post('/auth/login/',{username,password}),logout:()=>api.post('/auth/logout/'),register:data=>api.post('/auth/register/',data),getCurrentUser:()=>api.get('/auth/user/')};// Исправление метода создания заметки из шаблона\nnotesAPI.createFromTemplate=templateId=>api.post('/notes/create_from_template/',{template_id:templateId});","map":{"version":3,"names":["axios","API_BASE_URL","api","create","baseURL","withCredentials","headers","interceptors","response","use","error","_error$response","status","window","location","href","Promise","reject","notesAPI","getAll","params","get","getById","id","concat","data","post","update","put","delete","pin","archive","createFromTemplate","templateId","template_id","moveToFolder","folderId","folder_id","templatesAPI","foldersAPI","getTree","toggleFavorite","tagsAPI","getCloud","autocomplete","query","q","getStatistics","authAPI","login","username","password","logout","register","getCurrentUser"],"sources":["/Users/mikhail/Downloads/ЗаметкиPARADIZE/frontend/src/api/api.js"],"sourcesContent":["import axios from 'axios';\n\n// Используем относительный путь для работы на одном порту\nconst API_BASE_URL = '/api';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  withCredentials: true,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Interceptors для обработки ошибок\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      // Перенаправление на страницу входа при 401\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport default api;\n\n// API методы для заметок\nexport const notesAPI = {\n  getAll: (params) => api.get('/notes/', { params }),\n  getById: (id) => api.get(`/notes/${id}/`),\n  create: (data) => api.post('/notes/', data),\n  update: (id, data) => api.put(`/notes/${id}/`, data),\n  delete: (id) => api.delete(`/notes/${id}/`),\n  pin: (id) => api.post(`/notes/${id}/pin/`),\n  archive: (id) => api.post(`/notes/${id}/archive/`),\n  createFromTemplate: (templateId) => api.post('/notes/create_from_template/', { template_id: templateId }),\n  moveToFolder: (id, folderId) => api.post(`/notes/${id}/move_to_folder/`, { folder_id: folderId }),\n};\n\n// API методы для шаблонов\nexport const templatesAPI = {\n  getAll: () => api.get('/templates/'),\n  getById: (id) => api.get(`/templates/${id}/`),\n};\n\n// API методы для папок\nexport const foldersAPI = {\n  getAll: (params) => api.get('/folders/', { params }),\n  getById: (id) => api.get(`/folders/${id}/`),\n  create: (data) => api.post('/folders/', data),\n  update: (id, data) => api.put(`/folders/${id}/`, data),\n  delete: (id) => api.delete(`/folders/${id}/`),\n  getTree: () => api.get('/folders/tree/'),\n  toggleFavorite: (id) => api.post(`/folders/${id}/toggle_favorite/`),\n};\n\n// API методы для тегов\nexport const tagsAPI = {\n  getAll: (params) => api.get('/tags/', { params }),\n  getById: (id) => api.get(`/tags/${id}/`),\n  create: (data) => api.post('/tags/', data),\n  update: (id, data) => api.put(`/tags/${id}/`, data),\n  delete: (id) => api.delete(`/tags/${id}/`),\n  getCloud: () => api.get('/tags/cloud/'),\n  autocomplete: (query) => api.get('/tags/autocomplete/', { params: { q: query } }),\n  getStatistics: () => api.get('/tags/statistics/'),\n};\n\n// API методы для аутентификации\nexport const authAPI = {\n  login: (username, password) => api.post('/auth/login/', { username, password }),\n  logout: () => api.post('/auth/logout/'),\n  register: (data) => api.post('/auth/register/', data),\n  getCurrentUser: () => api.get('/auth/user/'),\n};\n\n// Исправление метода создания заметки из шаблона\nnotesAPI.createFromTemplate = (templateId) => \n  api.post('/notes/create_from_template/', { template_id: templateId });\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}