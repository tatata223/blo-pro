{"ast":null,"code":"import React,{useState}from'react';import{notesAPI}from'../../api/api';import toast from'react-hot-toast';import'./EncryptionSettings.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EncryptionSettings=_ref=>{let{note,onEncryptionChange}=_ref;const[showEncrypt,setShowEncrypt]=useState(false);const[showDecrypt,setShowDecrypt]=useState(false);const[showRemove,setShowRemove]=useState(false);const[password,setPassword]=useState('');const[confirmPassword,setConfirmPassword]=useState('');const[loading,setLoading]=useState(false);const handleEncrypt=async e=>{e.preventDefault();if(!password){toast.error('Введите пароль');return;}if(password!==confirmPassword){toast.error('Пароли не совпадают');return;}if(password.length<6){toast.error('Пароль должен содержать минимум 6 символов');return;}setLoading(true);try{await notesAPI.encrypt(note.id,{password});toast.success('Заметка успешно зашифрована');setShowEncrypt(false);setPassword('');setConfirmPassword('');if(onEncryptionChange){onEncryptionChange(true);}}catch(error){var _error$response,_error$response$data;console.error('Error encrypting note:',error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Ошибка шифрования');}finally{setLoading(false);}};const handleDecrypt=async e=>{e.preventDefault();if(!password){toast.error('Введите пароль');return;}setLoading(true);try{const response=await notesAPI.decrypt(note.id,{password});toast.success('Заметка успешно расшифрована');setShowDecrypt(false);setPassword('');if(onEncryptionChange){onEncryptionChange(false,response.data.content);}}catch(error){var _error$response2,_error$response2$data;console.error('Error decrypting note:',error);toast.error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||'Ошибка расшифровки');}finally{setLoading(false);}};const handleRemoveEncryption=async e=>{e.preventDefault();if(!password){toast.error('Введите пароль');return;}setLoading(true);try{await notesAPI.removeEncryption(note.id,{password});toast.success('Шифрование успешно удалено');setShowRemove(false);setPassword('');if(onEncryptionChange){onEncryptionChange(false);}}catch(error){var _error$response3,_error$response3$data;console.error('Error removing encryption:',error);toast.error(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||'Ошибка удаления шифрования');}finally{setLoading(false);}};if(!note)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"encryption-settings\",children:[!note.is_encrypted?/*#__PURE__*/_jsx(\"div\",{className:\"encryption-controls\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"encryption-btn encrypt-btn\",onClick:()=>{setShowEncrypt(true);setShowDecrypt(false);setShowRemove(false);},title:\"\\u0417\\u0430\\u0448\\u0438\\u0444\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0437\\u0430\\u043C\\u0435\\u0442\\u043A\\u0443\",children:[/*#__PURE__*/_jsxs(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 8V12M12 16H12.01\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})]}),\"\\u0417\\u0430\\u0448\\u0438\\u0444\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"encryption-controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"encryption-status\",children:[/*#__PURE__*/_jsxs(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M9 12L11 14L15 10\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})]}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0417\\u0430\\u0448\\u0438\\u0444\\u0440\\u043E\\u0432\\u0430\\u043D\\u043E\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"encryption-btn decrypt-btn\",onClick:()=>{setShowDecrypt(true);setShowEncrypt(false);setShowRemove(false);},title:\"\\u0420\\u0430\\u0441\\u0448\\u0438\\u0444\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0434\\u043B\\u044F \\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u0430\",children:\"\\u0420\\u0430\\u0441\\u0448\\u0438\\u0444\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{className:\"encryption-btn remove-btn\",onClick:()=>{setShowRemove(true);setShowEncrypt(false);setShowDecrypt(false);},title:\"\\u0423\\u0431\\u0440\\u0430\\u0442\\u044C \\u0448\\u0438\\u0444\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\",children:\"\\u0423\\u0431\\u0440\\u0430\\u0442\\u044C\"})]}),showEncrypt&&/*#__PURE__*/_jsx(\"div\",{className:\"encryption-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"encryption-modal-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0417\\u0430\\u0448\\u0438\\u0444\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0437\\u0430\\u043C\\u0435\\u0442\\u043A\\u0443\"}),/*#__PURE__*/_jsx(\"p\",{className:\"encryption-modal-hint\",children:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C \\u0434\\u043B\\u044F \\u0448\\u0438\\u0444\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F. \\u0417\\u0430\\u043C\\u0435\\u0442\\u043A\\u0430 \\u0431\\u0443\\u0434\\u0435\\u0442 \\u0437\\u0430\\u0448\\u0438\\u0444\\u0440\\u043E\\u0432\\u0430\\u043D\\u0430 \\u0438 \\u0437\\u0430\\u0449\\u0438\\u0449\\u0435\\u043D\\u0430 \\u043F\\u0430\\u0440\\u043E\\u043B\\u0435\\u043C.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleEncrypt,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"encryption-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"encrypt-password\",children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"encrypt-password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",required:true,minLength:6})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"encryption-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"encrypt-confirm\",children:\"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"encrypt-confirm\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value),placeholder:\"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",required:true,minLength:6})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"encryption-modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"encryption-cancel-btn\",onClick:()=>{setShowEncrypt(false);setPassword('');setConfirmPassword('');},disabled:loading,children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"encryption-submit-btn\",disabled:loading,children:loading?'Шифрование...':'Зашифровать'})]})]})]})}),showDecrypt&&/*#__PURE__*/_jsx(\"div\",{className:\"encryption-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"encryption-modal-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0420\\u0430\\u0441\\u0448\\u0438\\u0444\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0437\\u0430\\u043C\\u0435\\u0442\\u043A\\u0443\"}),/*#__PURE__*/_jsx(\"p\",{className:\"encryption-modal-hint\",children:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C \\u0434\\u043B\\u044F \\u0440\\u0430\\u0441\\u0448\\u0438\\u0444\\u0440\\u043E\\u0432\\u043A\\u0438 \\u0438 \\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u0430 \\u0441\\u043E\\u0434\\u0435\\u0440\\u0436\\u0438\\u043C\\u043E\\u0433\\u043E.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleDecrypt,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"encryption-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"decrypt-password\",children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"decrypt-password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",required:true,autoFocus:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"encryption-modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"encryption-cancel-btn\",onClick:()=>{setShowDecrypt(false);setPassword('');},disabled:loading,children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"encryption-submit-btn\",disabled:loading,children:loading?'Расшифровка...':'Расшифровать'})]})]})]})}),showRemove&&/*#__PURE__*/_jsx(\"div\",{className:\"encryption-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"encryption-modal-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0423\\u0431\\u0440\\u0430\\u0442\\u044C \\u0448\\u0438\\u0444\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(\"p\",{className:\"encryption-modal-hint\",children:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C \\u0434\\u043B\\u044F \\u043F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F. \\u0428\\u0438\\u0444\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0431\\u0443\\u0434\\u0435\\u0442 \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D\\u043E, \\u0438 \\u0437\\u0430\\u043C\\u0435\\u0442\\u043A\\u0430 \\u0441\\u0442\\u0430\\u043D\\u0435\\u0442 \\u043E\\u0431\\u044B\\u0447\\u043D\\u043E\\u0439.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRemoveEncryption,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"encryption-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"remove-password\",children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"remove-password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",required:true,autoFocus:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"encryption-modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"encryption-cancel-btn\",onClick:()=>{setShowRemove(false);setPassword('');},disabled:loading,children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"encryption-submit-btn\",disabled:loading,children:loading?'Удаление...':'Убрать шифрование'})]})]})]})})]});};export default EncryptionSettings;","map":{"version":3,"names":["React","useState","notesAPI","toast","jsx","_jsx","jsxs","_jsxs","EncryptionSettings","_ref","note","onEncryptionChange","showEncrypt","setShowEncrypt","showDecrypt","setShowDecrypt","showRemove","setShowRemove","password","setPassword","confirmPassword","setConfirmPassword","loading","setLoading","handleEncrypt","e","preventDefault","error","length","encrypt","id","success","_error$response","_error$response$data","console","response","data","handleDecrypt","decrypt","content","_error$response2","_error$response2$data","handleRemoveEncryption","removeEncryption","_error$response3","_error$response3$data","className","children","is_encrypted","onClick","title","width","height","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","onSubmit","htmlFor","type","value","onChange","target","placeholder","required","minLength","disabled","autoFocus"],"sources":["/Users/mikhail/Downloads/ЗаметкиPARADIZE/frontend/src/components/Notes/EncryptionSettings.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { notesAPI } from '../../api/api';\nimport toast from 'react-hot-toast';\nimport './EncryptionSettings.css';\n\nconst EncryptionSettings = ({ note, onEncryptionChange }) => {\n  const [showEncrypt, setShowEncrypt] = useState(false);\n  const [showDecrypt, setShowDecrypt] = useState(false);\n  const [showRemove, setShowRemove] = useState(false);\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleEncrypt = async (e) => {\n    e.preventDefault();\n    \n    if (!password) {\n      toast.error('Введите пароль');\n      return;\n    }\n    \n    if (password !== confirmPassword) {\n      toast.error('Пароли не совпадают');\n      return;\n    }\n    \n    if (password.length < 6) {\n      toast.error('Пароль должен содержать минимум 6 символов');\n      return;\n    }\n    \n    setLoading(true);\n    try {\n      await notesAPI.encrypt(note.id, { password });\n      toast.success('Заметка успешно зашифрована');\n      setShowEncrypt(false);\n      setPassword('');\n      setConfirmPassword('');\n      if (onEncryptionChange) {\n        onEncryptionChange(true);\n      }\n    } catch (error) {\n      console.error('Error encrypting note:', error);\n      toast.error(error.response?.data?.error || 'Ошибка шифрования');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDecrypt = async (e) => {\n    e.preventDefault();\n    \n    if (!password) {\n      toast.error('Введите пароль');\n      return;\n    }\n    \n    setLoading(true);\n    try {\n      const response = await notesAPI.decrypt(note.id, { password });\n      toast.success('Заметка успешно расшифрована');\n      setShowDecrypt(false);\n      setPassword('');\n      if (onEncryptionChange) {\n        onEncryptionChange(false, response.data.content);\n      }\n    } catch (error) {\n      console.error('Error decrypting note:', error);\n      toast.error(error.response?.data?.error || 'Ошибка расшифровки');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleRemoveEncryption = async (e) => {\n    e.preventDefault();\n    \n    if (!password) {\n      toast.error('Введите пароль');\n      return;\n    }\n    \n    setLoading(true);\n    try {\n      await notesAPI.removeEncryption(note.id, { password });\n      toast.success('Шифрование успешно удалено');\n      setShowRemove(false);\n      setPassword('');\n      if (onEncryptionChange) {\n        onEncryptionChange(false);\n      }\n    } catch (error) {\n      console.error('Error removing encryption:', error);\n      toast.error(error.response?.data?.error || 'Ошибка удаления шифрования');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (!note) return null;\n\n  return (\n    <div className=\"encryption-settings\">\n      {!note.is_encrypted ? (\n        <div className=\"encryption-controls\">\n          <button\n            className=\"encryption-btn encrypt-btn\"\n            onClick={() => {\n              setShowEncrypt(true);\n              setShowDecrypt(false);\n              setShowRemove(false);\n            }}\n            title=\"Зашифровать заметку\"\n          >\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              <path d=\"M12 8V12M12 16H12.01\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            </svg>\n            Зашифровать\n          </button>\n        </div>\n      ) : (\n        <div className=\"encryption-controls\">\n          <div className=\"encryption-status\">\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              <path d=\"M9 12L11 14L15 10\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            </svg>\n            <span>Зашифровано</span>\n          </div>\n          <button\n            className=\"encryption-btn decrypt-btn\"\n            onClick={() => {\n              setShowDecrypt(true);\n              setShowEncrypt(false);\n              setShowRemove(false);\n            }}\n            title=\"Расшифровать для просмотра\"\n          >\n            Расшифровать\n          </button>\n          <button\n            className=\"encryption-btn remove-btn\"\n            onClick={() => {\n              setShowRemove(true);\n              setShowEncrypt(false);\n              setShowDecrypt(false);\n            }}\n            title=\"Убрать шифрование\"\n          >\n            Убрать\n          </button>\n        </div>\n      )}\n\n      {showEncrypt && (\n        <div className=\"encryption-modal\">\n          <div className=\"encryption-modal-content\">\n            <h3>Зашифровать заметку</h3>\n            <p className=\"encryption-modal-hint\">\n              Введите пароль для шифрования. Заметка будет зашифрована и защищена паролем.\n            </p>\n            <form onSubmit={handleEncrypt}>\n              <div className=\"encryption-form-group\">\n                <label htmlFor=\"encrypt-password\">Пароль</label>\n                <input\n                  type=\"password\"\n                  id=\"encrypt-password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  placeholder=\"Введите пароль\"\n                  required\n                  minLength={6}\n                />\n              </div>\n              <div className=\"encryption-form-group\">\n                <label htmlFor=\"encrypt-confirm\">Подтвердите пароль</label>\n                <input\n                  type=\"password\"\n                  id=\"encrypt-confirm\"\n                  value={confirmPassword}\n                  onChange={(e) => setConfirmPassword(e.target.value)}\n                  placeholder=\"Повторите пароль\"\n                  required\n                  minLength={6}\n                />\n              </div>\n              <div className=\"encryption-modal-actions\">\n                <button\n                  type=\"button\"\n                  className=\"encryption-cancel-btn\"\n                  onClick={() => {\n                    setShowEncrypt(false);\n                    setPassword('');\n                    setConfirmPassword('');\n                  }}\n                  disabled={loading}\n                >\n                  Отмена\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"encryption-submit-btn\"\n                  disabled={loading}\n                >\n                  {loading ? 'Шифрование...' : 'Зашифровать'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {showDecrypt && (\n        <div className=\"encryption-modal\">\n          <div className=\"encryption-modal-content\">\n            <h3>Расшифровать заметку</h3>\n            <p className=\"encryption-modal-hint\">\n              Введите пароль для расшифровки и просмотра содержимого.\n            </p>\n            <form onSubmit={handleDecrypt}>\n              <div className=\"encryption-form-group\">\n                <label htmlFor=\"decrypt-password\">Пароль</label>\n                <input\n                  type=\"password\"\n                  id=\"decrypt-password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  placeholder=\"Введите пароль\"\n                  required\n                  autoFocus\n                />\n              </div>\n              <div className=\"encryption-modal-actions\">\n                <button\n                  type=\"button\"\n                  className=\"encryption-cancel-btn\"\n                  onClick={() => {\n                    setShowDecrypt(false);\n                    setPassword('');\n                  }}\n                  disabled={loading}\n                >\n                  Отмена\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"encryption-submit-btn\"\n                  disabled={loading}\n                >\n                  {loading ? 'Расшифровка...' : 'Расшифровать'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {showRemove && (\n        <div className=\"encryption-modal\">\n          <div className=\"encryption-modal-content\">\n            <h3>Убрать шифрование</h3>\n            <p className=\"encryption-modal-hint\">\n              Введите пароль для подтверждения. Шифрование будет удалено, и заметка станет обычной.\n            </p>\n            <form onSubmit={handleRemoveEncryption}>\n              <div className=\"encryption-form-group\">\n                <label htmlFor=\"remove-password\">Пароль</label>\n                <input\n                  type=\"password\"\n                  id=\"remove-password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  placeholder=\"Введите пароль\"\n                  required\n                  autoFocus\n                />\n              </div>\n              <div className=\"encryption-modal-actions\">\n                <button\n                  type=\"button\"\n                  className=\"encryption-cancel-btn\"\n                  onClick={() => {\n                    setShowRemove(false);\n                    setPassword('');\n                  }}\n                  disabled={loading}\n                >\n                  Отмена\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"encryption-submit-btn\"\n                  disabled={loading}\n                >\n                  {loading ? 'Удаление...' : 'Убрать шифрование'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default EncryptionSettings;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,QAAQ,KAAQ,eAAe,CACxC,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CACnC,MAAO,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElC,KAAM,CAAAC,kBAAkB,CAAGC,IAAA,EAAkC,IAAjC,CAAEC,IAAI,CAAEC,kBAAmB,CAAC,CAAAF,IAAA,CACtD,KAAM,CAACG,WAAW,CAAEC,cAAc,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACa,WAAW,CAAEC,cAAc,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACe,UAAU,CAAEC,aAAa,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACiB,QAAQ,CAAEC,WAAW,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACmB,eAAe,CAAEC,kBAAkB,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAACqB,OAAO,CAAEC,UAAU,CAAC,CAAGtB,QAAQ,CAAC,KAAK,CAAC,CAE7C,KAAM,CAAAuB,aAAa,CAAG,KAAO,CAAAC,CAAC,EAAK,CACjCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,GAAI,CAACR,QAAQ,CAAE,CACbf,KAAK,CAACwB,KAAK,CAAC,gBAAgB,CAAC,CAC7B,OACF,CAEA,GAAIT,QAAQ,GAAKE,eAAe,CAAE,CAChCjB,KAAK,CAACwB,KAAK,CAAC,qBAAqB,CAAC,CAClC,OACF,CAEA,GAAIT,QAAQ,CAACU,MAAM,CAAG,CAAC,CAAE,CACvBzB,KAAK,CAACwB,KAAK,CAAC,4CAA4C,CAAC,CACzD,OACF,CAEAJ,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAArB,QAAQ,CAAC2B,OAAO,CAACnB,IAAI,CAACoB,EAAE,CAAE,CAAEZ,QAAS,CAAC,CAAC,CAC7Cf,KAAK,CAAC4B,OAAO,CAAC,6BAA6B,CAAC,CAC5ClB,cAAc,CAAC,KAAK,CAAC,CACrBM,WAAW,CAAC,EAAE,CAAC,CACfE,kBAAkB,CAAC,EAAE,CAAC,CACtB,GAAIV,kBAAkB,CAAE,CACtBA,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CACF,CAAE,MAAOgB,KAAK,CAAE,KAAAK,eAAA,CAAAC,oBAAA,CACdC,OAAO,CAACP,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC9CxB,KAAK,CAACwB,KAAK,CAAC,EAAAK,eAAA,CAAAL,KAAK,CAACQ,QAAQ,UAAAH,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBI,IAAI,UAAAH,oBAAA,iBAApBA,oBAAA,CAAsBN,KAAK,GAAI,mBAAmB,CAAC,CACjE,CAAC,OAAS,CACRJ,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAc,aAAa,CAAG,KAAO,CAAAZ,CAAC,EAAK,CACjCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,GAAI,CAACR,QAAQ,CAAE,CACbf,KAAK,CAACwB,KAAK,CAAC,gBAAgB,CAAC,CAC7B,OACF,CAEAJ,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAAY,QAAQ,CAAG,KAAM,CAAAjC,QAAQ,CAACoC,OAAO,CAAC5B,IAAI,CAACoB,EAAE,CAAE,CAAEZ,QAAS,CAAC,CAAC,CAC9Df,KAAK,CAAC4B,OAAO,CAAC,8BAA8B,CAAC,CAC7ChB,cAAc,CAAC,KAAK,CAAC,CACrBI,WAAW,CAAC,EAAE,CAAC,CACf,GAAIR,kBAAkB,CAAE,CACtBA,kBAAkB,CAAC,KAAK,CAAEwB,QAAQ,CAACC,IAAI,CAACG,OAAO,CAAC,CAClD,CACF,CAAE,MAAOZ,KAAK,CAAE,KAAAa,gBAAA,CAAAC,qBAAA,CACdP,OAAO,CAACP,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC9CxB,KAAK,CAACwB,KAAK,CAAC,EAAAa,gBAAA,CAAAb,KAAK,CAACQ,QAAQ,UAAAK,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBJ,IAAI,UAAAK,qBAAA,iBAApBA,qBAAA,CAAsBd,KAAK,GAAI,oBAAoB,CAAC,CAClE,CAAC,OAAS,CACRJ,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAmB,sBAAsB,CAAG,KAAO,CAAAjB,CAAC,EAAK,CAC1CA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,GAAI,CAACR,QAAQ,CAAE,CACbf,KAAK,CAACwB,KAAK,CAAC,gBAAgB,CAAC,CAC7B,OACF,CAEAJ,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAArB,QAAQ,CAACyC,gBAAgB,CAACjC,IAAI,CAACoB,EAAE,CAAE,CAAEZ,QAAS,CAAC,CAAC,CACtDf,KAAK,CAAC4B,OAAO,CAAC,4BAA4B,CAAC,CAC3Cd,aAAa,CAAC,KAAK,CAAC,CACpBE,WAAW,CAAC,EAAE,CAAC,CACf,GAAIR,kBAAkB,CAAE,CACtBA,kBAAkB,CAAC,KAAK,CAAC,CAC3B,CACF,CAAE,MAAOgB,KAAK,CAAE,KAAAiB,gBAAA,CAAAC,qBAAA,CACdX,OAAO,CAACP,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CAClDxB,KAAK,CAACwB,KAAK,CAAC,EAAAiB,gBAAA,CAAAjB,KAAK,CAACQ,QAAQ,UAAAS,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBR,IAAI,UAAAS,qBAAA,iBAApBA,qBAAA,CAAsBlB,KAAK,GAAI,4BAA4B,CAAC,CAC1E,CAAC,OAAS,CACRJ,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,GAAI,CAACb,IAAI,CAAE,MAAO,KAAI,CAEtB,mBACEH,KAAA,QAAKuC,SAAS,CAAC,qBAAqB,CAAAC,QAAA,EACjC,CAACrC,IAAI,CAACsC,YAAY,cACjB3C,IAAA,QAAKyC,SAAS,CAAC,qBAAqB,CAAAC,QAAA,cAClCxC,KAAA,WACEuC,SAAS,CAAC,4BAA4B,CACtCG,OAAO,CAAEA,CAAA,GAAM,CACbpC,cAAc,CAAC,IAAI,CAAC,CACpBE,cAAc,CAAC,KAAK,CAAC,CACrBE,aAAa,CAAC,KAAK,CAAC,CACtB,CAAE,CACFiC,KAAK,CAAC,+GAAqB,CAAAH,QAAA,eAE3BxC,KAAA,QAAK4C,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,KAAK,CAAC,4BAA4B,CAAAR,QAAA,eAC5F1C,IAAA,SAAMmD,CAAC,CAAC,mHAAmH,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAAC,CAAC,cAChNvD,IAAA,SAAMmD,CAAC,CAAC,sBAAsB,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAAC,CAAC,EAChH,CAAC,qEAER,EAAQ,CAAC,CACN,CAAC,cAENrD,KAAA,QAAKuC,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCxC,KAAA,QAAKuC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCxC,KAAA,QAAK4C,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,KAAK,CAAC,4BAA4B,CAAAR,QAAA,eAC5F1C,IAAA,SAAMmD,CAAC,CAAC,mHAAmH,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAAC,CAAC,cAChNvD,IAAA,SAAMmD,CAAC,CAAC,mBAAmB,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAAC,CAAC,EAC7G,CAAC,cACNvD,IAAA,SAAA0C,QAAA,CAAM,oEAAW,CAAM,CAAC,EACrB,CAAC,cACN1C,IAAA,WACEyC,SAAS,CAAC,4BAA4B,CACtCG,OAAO,CAAEA,CAAA,GAAM,CACblC,cAAc,CAAC,IAAI,CAAC,CACpBF,cAAc,CAAC,KAAK,CAAC,CACrBI,aAAa,CAAC,KAAK,CAAC,CACtB,CAAE,CACFiC,KAAK,CAAC,oJAA4B,CAAAH,QAAA,CACnC,0EAED,CAAQ,CAAC,cACT1C,IAAA,WACEyC,SAAS,CAAC,2BAA2B,CACrCG,OAAO,CAAEA,CAAA,GAAM,CACbhC,aAAa,CAAC,IAAI,CAAC,CACnBJ,cAAc,CAAC,KAAK,CAAC,CACrBE,cAAc,CAAC,KAAK,CAAC,CACvB,CAAE,CACFmC,KAAK,CAAC,mGAAmB,CAAAH,QAAA,CAC1B,sCAED,CAAQ,CAAC,EACN,CACN,CAEAnC,WAAW,eACVP,IAAA,QAAKyC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BxC,KAAA,QAAKuC,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvC1C,IAAA,OAAA0C,QAAA,CAAI,+GAAmB,CAAI,CAAC,cAC5B1C,IAAA,MAAGyC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,mZAErC,CAAG,CAAC,cACJxC,KAAA,SAAMsD,QAAQ,CAAErC,aAAc,CAAAuB,QAAA,eAC5BxC,KAAA,QAAKuC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpC1C,IAAA,UAAOyD,OAAO,CAAC,kBAAkB,CAAAf,QAAA,CAAC,sCAAM,CAAO,CAAC,cAChD1C,IAAA,UACE0D,IAAI,CAAC,UAAU,CACfjC,EAAE,CAAC,kBAAkB,CACrBkC,KAAK,CAAE9C,QAAS,CAChB+C,QAAQ,CAAGxC,CAAC,EAAKN,WAAW,CAACM,CAAC,CAACyC,MAAM,CAACF,KAAK,CAAE,CAC7CG,WAAW,CAAC,iFAAgB,CAC5BC,QAAQ,MACRC,SAAS,CAAE,CAAE,CACd,CAAC,EACC,CAAC,cACN9D,KAAA,QAAKuC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpC1C,IAAA,UAAOyD,OAAO,CAAC,iBAAiB,CAAAf,QAAA,CAAC,yGAAkB,CAAO,CAAC,cAC3D1C,IAAA,UACE0D,IAAI,CAAC,UAAU,CACfjC,EAAE,CAAC,iBAAiB,CACpBkC,KAAK,CAAE5C,eAAgB,CACvB6C,QAAQ,CAAGxC,CAAC,EAAKJ,kBAAkB,CAACI,CAAC,CAACyC,MAAM,CAACF,KAAK,CAAE,CACpDG,WAAW,CAAC,6FAAkB,CAC9BC,QAAQ,MACRC,SAAS,CAAE,CAAE,CACd,CAAC,EACC,CAAC,cACN9D,KAAA,QAAKuC,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvC1C,IAAA,WACE0D,IAAI,CAAC,QAAQ,CACbjB,SAAS,CAAC,uBAAuB,CACjCG,OAAO,CAAEA,CAAA,GAAM,CACbpC,cAAc,CAAC,KAAK,CAAC,CACrBM,WAAW,CAAC,EAAE,CAAC,CACfE,kBAAkB,CAAC,EAAE,CAAC,CACxB,CAAE,CACFiD,QAAQ,CAAEhD,OAAQ,CAAAyB,QAAA,CACnB,sCAED,CAAQ,CAAC,cACT1C,IAAA,WACE0D,IAAI,CAAC,QAAQ,CACbjB,SAAS,CAAC,uBAAuB,CACjCwB,QAAQ,CAAEhD,OAAQ,CAAAyB,QAAA,CAEjBzB,OAAO,CAAG,eAAe,CAAG,aAAa,CACpC,CAAC,EACN,CAAC,EACF,CAAC,EACJ,CAAC,CACH,CACN,CAEAR,WAAW,eACVT,IAAA,QAAKyC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BxC,KAAA,QAAKuC,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvC1C,IAAA,OAAA0C,QAAA,CAAI,qHAAoB,CAAI,CAAC,cAC7B1C,IAAA,MAAGyC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,ySAErC,CAAG,CAAC,cACJxC,KAAA,SAAMsD,QAAQ,CAAExB,aAAc,CAAAU,QAAA,eAC5BxC,KAAA,QAAKuC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpC1C,IAAA,UAAOyD,OAAO,CAAC,kBAAkB,CAAAf,QAAA,CAAC,sCAAM,CAAO,CAAC,cAChD1C,IAAA,UACE0D,IAAI,CAAC,UAAU,CACfjC,EAAE,CAAC,kBAAkB,CACrBkC,KAAK,CAAE9C,QAAS,CAChB+C,QAAQ,CAAGxC,CAAC,EAAKN,WAAW,CAACM,CAAC,CAACyC,MAAM,CAACF,KAAK,CAAE,CAC7CG,WAAW,CAAC,iFAAgB,CAC5BC,QAAQ,MACRG,SAAS,MACV,CAAC,EACC,CAAC,cACNhE,KAAA,QAAKuC,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvC1C,IAAA,WACE0D,IAAI,CAAC,QAAQ,CACbjB,SAAS,CAAC,uBAAuB,CACjCG,OAAO,CAAEA,CAAA,GAAM,CACblC,cAAc,CAAC,KAAK,CAAC,CACrBI,WAAW,CAAC,EAAE,CAAC,CACjB,CAAE,CACFmD,QAAQ,CAAEhD,OAAQ,CAAAyB,QAAA,CACnB,sCAED,CAAQ,CAAC,cACT1C,IAAA,WACE0D,IAAI,CAAC,QAAQ,CACbjB,SAAS,CAAC,uBAAuB,CACjCwB,QAAQ,CAAEhD,OAAQ,CAAAyB,QAAA,CAEjBzB,OAAO,CAAG,gBAAgB,CAAG,cAAc,CACtC,CAAC,EACN,CAAC,EACF,CAAC,EACJ,CAAC,CACH,CACN,CAEAN,UAAU,eACTX,IAAA,QAAKyC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BxC,KAAA,QAAKuC,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvC1C,IAAA,OAAA0C,QAAA,CAAI,mGAAiB,CAAI,CAAC,cAC1B1C,IAAA,MAAGyC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,+bAErC,CAAG,CAAC,cACJxC,KAAA,SAAMsD,QAAQ,CAAEnB,sBAAuB,CAAAK,QAAA,eACrCxC,KAAA,QAAKuC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpC1C,IAAA,UAAOyD,OAAO,CAAC,iBAAiB,CAAAf,QAAA,CAAC,sCAAM,CAAO,CAAC,cAC/C1C,IAAA,UACE0D,IAAI,CAAC,UAAU,CACfjC,EAAE,CAAC,iBAAiB,CACpBkC,KAAK,CAAE9C,QAAS,CAChB+C,QAAQ,CAAGxC,CAAC,EAAKN,WAAW,CAACM,CAAC,CAACyC,MAAM,CAACF,KAAK,CAAE,CAC7CG,WAAW,CAAC,iFAAgB,CAC5BC,QAAQ,MACRG,SAAS,MACV,CAAC,EACC,CAAC,cACNhE,KAAA,QAAKuC,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvC1C,IAAA,WACE0D,IAAI,CAAC,QAAQ,CACbjB,SAAS,CAAC,uBAAuB,CACjCG,OAAO,CAAEA,CAAA,GAAM,CACbhC,aAAa,CAAC,KAAK,CAAC,CACpBE,WAAW,CAAC,EAAE,CAAC,CACjB,CAAE,CACFmD,QAAQ,CAAEhD,OAAQ,CAAAyB,QAAA,CACnB,sCAED,CAAQ,CAAC,cACT1C,IAAA,WACE0D,IAAI,CAAC,QAAQ,CACbjB,SAAS,CAAC,uBAAuB,CACjCwB,QAAQ,CAAEhD,OAAQ,CAAAyB,QAAA,CAEjBzB,OAAO,CAAG,aAAa,CAAG,mBAAmB,CACxC,CAAC,EACN,CAAC,EACF,CAAC,EACJ,CAAC,CACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAd,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}