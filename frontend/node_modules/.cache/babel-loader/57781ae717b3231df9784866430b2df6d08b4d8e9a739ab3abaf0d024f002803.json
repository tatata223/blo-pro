{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{chatAPI}from'../../api/api';import{useAuth}from'../../contexts/AuthContext';import toast from'react-hot-toast';import'./ChatWindow.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChatWindow=_ref=>{let{room,onNewMessage,currentUser}=_ref;const[messages,setMessages]=useState([]);const[newMessage,setNewMessage]=useState('');const[loading,setLoading]=useState(true);const[ws,setWs]=useState(null);const messagesEndRef=useRef(null);const inputRef=useRef(null);useEffect(()=>{if(room!==null&&room!==void 0&&room.id){loadMessages();connectWebSocket();}return()=>{if(ws){ws.close();}};},[room===null||room===void 0?void 0:room.id]);useEffect(()=>{scrollToBottom();},[messages]);const loadMessages=async()=>{try{const response=await chatAPI.getMessages(room.id);setMessages(response.data.reverse());// Переворачиваем, чтобы новые были внизу\n}catch(error){console.error('Error loading messages:',error);toast.error('Ошибка загрузки сообщений');}finally{setLoading(false);}};const connectWebSocket=()=>{const protocol=window.location.protocol==='https:'?'wss:':'ws:';const wsUrl=\"\".concat(protocol,\"//\").concat(window.location.host,\"/ws/chat/\").concat(room.id,\"/\");const websocket=new WebSocket(wsUrl);websocket.onopen=()=>{console.log('WebSocket connected');};websocket.onmessage=event=>{const data=JSON.parse(event.data);if(data.type==='message'){setMessages(prev=>[...prev,data.message]);onNewMessage();}else if(data.type==='typing'){// Можно добавить индикатор набора текста\n}};websocket.onerror=error=>{console.error('WebSocket error:',error);};websocket.onclose=()=>{console.log('WebSocket disconnected');// Можно добавить переподключение\n};setWs(websocket);};const handleSendMessage=async e=>{e.preventDefault();if(!newMessage.trim())return;const messageContent=newMessage.trim();setNewMessage('');try{await chatAPI.sendMessage(room.id,{content:messageContent});// Сообщение будет добавлено через WebSocket\nif(ws){ws.send(JSON.stringify({type:'message',content:messageContent}));}}catch(error){console.error('Error sending message:',error);toast.error('Ошибка отправки сообщения');setNewMessage(messageContent);// Восстанавливаем текст\n}};const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"chat-window\",children:/*#__PURE__*/_jsx(\"div\",{className:\"chat-window-loading\",children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0439...\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"chat-window\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chat-window-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:room.display_name}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-window-meta\",children:room.members_count&&/*#__PURE__*/_jsxs(\"span\",{children:[room.members_count,\" \\u0443\\u0447\\u0430\\u0441\\u0442\\u043D\\u0438\\u043A\\u043E\\u0432\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-window-messages\",children:[messages.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"chat-window-empty\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u041D\\u0435\\u0442 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0439\"}),/*#__PURE__*/_jsx(\"p\",{className:\"chat-window-empty-hint\",children:\"\\u041D\\u0430\\u0447\\u043D\\u0438\\u0442\\u0435 \\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435, \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0432 \\u043F\\u0435\\u0440\\u0432\\u043E\\u0435 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435\"})]}):messages.map(message=>/*#__PURE__*/_jsxs(\"div\",{className:\"chat-message \".concat(message.sender.id===(currentUser===null||currentUser===void 0?void 0:currentUser.id)?'own':''),children:[message.sender.id!==(currentUser===null||currentUser===void 0?void 0:currentUser.id)&&/*#__PURE__*/_jsx(\"div\",{className:\"chat-message-avatar\",children:message.sender.username[0].toUpperCase()}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-message-content\",children:[message.sender.id!==(currentUser===null||currentUser===void 0?void 0:currentUser.id)&&/*#__PURE__*/_jsx(\"div\",{className:\"chat-message-sender\",children:message.sender.username}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-message-bubble\",children:message.content}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-message-time\",children:new Date(message.created_at).toLocaleTimeString('ru-RU',{hour:'2-digit',minute:'2-digit'})})]})]},message.id)),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"chat-window-input\",onSubmit:handleSendMessage,children:[/*#__PURE__*/_jsx(\"input\",{ref:inputRef,type:\"text\",value:newMessage,onChange:e=>setNewMessage(e.target.value),placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435...\",className:\"chat-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"chat-send-btn\",disabled:!newMessage.trim(),children:/*#__PURE__*/_jsx(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M22 2L11 13M22 2L15 22L11 13M22 2L2 9L11 13\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})})})]})]});};export default ChatWindow;","map":{"version":3,"names":["React","useState","useEffect","useRef","chatAPI","useAuth","toast","jsx","_jsx","jsxs","_jsxs","ChatWindow","_ref","room","onNewMessage","currentUser","messages","setMessages","newMessage","setNewMessage","loading","setLoading","ws","setWs","messagesEndRef","inputRef","id","loadMessages","connectWebSocket","close","scrollToBottom","response","getMessages","data","reverse","error","console","protocol","window","location","wsUrl","concat","host","websocket","WebSocket","onopen","log","onmessage","event","JSON","parse","type","prev","message","onerror","onclose","handleSendMessage","e","preventDefault","trim","messageContent","sendMessage","content","send","stringify","_messagesEndRef$curre","current","scrollIntoView","behavior","className","children","display_name","members_count","length","map","sender","username","toUpperCase","Date","created_at","toLocaleTimeString","hour","minute","ref","onSubmit","value","onChange","target","placeholder","disabled","width","height","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin"],"sources":["/Users/mikhail/Downloads/ЗаметкиPARADIZE/frontend/src/components/Chat/ChatWindow.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { chatAPI } from '../../api/api';\nimport { useAuth } from '../../contexts/AuthContext';\nimport toast from 'react-hot-toast';\nimport './ChatWindow.css';\n\nconst ChatWindow = ({ room, onNewMessage, currentUser }) => {\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [ws, setWs] = useState(null);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    if (room?.id) {\n      loadMessages();\n      connectWebSocket();\n    }\n\n    return () => {\n      if (ws) {\n        ws.close();\n      }\n    };\n  }, [room?.id]);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const loadMessages = async () => {\n    try {\n      const response = await chatAPI.getMessages(room.id);\n      setMessages(response.data.reverse()); // Переворачиваем, чтобы новые были внизу\n    } catch (error) {\n      console.error('Error loading messages:', error);\n      toast.error('Ошибка загрузки сообщений');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const connectWebSocket = () => {\n    const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';\n    const wsUrl = `${protocol}//${window.location.host}/ws/chat/${room.id}/`;\n    \n    const websocket = new WebSocket(wsUrl);\n    \n    websocket.onopen = () => {\n      console.log('WebSocket connected');\n    };\n\n    websocket.onmessage = (event) => {\n      const data = JSON.parse(event.data);\n      \n      if (data.type === 'message') {\n        setMessages(prev => [...prev, data.message]);\n        onNewMessage();\n      } else if (data.type === 'typing') {\n        // Можно добавить индикатор набора текста\n      }\n    };\n\n    websocket.onerror = (error) => {\n      console.error('WebSocket error:', error);\n    };\n\n    websocket.onclose = () => {\n      console.log('WebSocket disconnected');\n      // Можно добавить переподключение\n    };\n\n    setWs(websocket);\n  };\n\n  const handleSendMessage = async (e) => {\n    e.preventDefault();\n    if (!newMessage.trim()) return;\n\n    const messageContent = newMessage.trim();\n    setNewMessage('');\n\n    try {\n      await chatAPI.sendMessage(room.id, {\n        content: messageContent,\n      });\n      \n      // Сообщение будет добавлено через WebSocket\n      if (ws) {\n        ws.send(JSON.stringify({\n          type: 'message',\n          content: messageContent,\n        }));\n      }\n    } catch (error) {\n      console.error('Error sending message:', error);\n      toast.error('Ошибка отправки сообщения');\n      setNewMessage(messageContent); // Восстанавливаем текст\n    }\n  };\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  if (loading) {\n    return (\n      <div className=\"chat-window\">\n        <div className=\"chat-window-loading\">Загрузка сообщений...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"chat-window\">\n      <div className=\"chat-window-header\">\n        <h3>{room.display_name}</h3>\n        <div className=\"chat-window-meta\">\n          {room.members_count && (\n            <span>{room.members_count} участников</span>\n          )}\n        </div>\n      </div>\n\n      <div className=\"chat-window-messages\">\n        {messages.length === 0 ? (\n          <div className=\"chat-window-empty\">\n            <p>Нет сообщений</p>\n            <p className=\"chat-window-empty-hint\">Начните общение, отправив первое сообщение</p>\n          </div>\n        ) : (\n          messages.map(message => (\n            <div\n              key={message.id}\n              className={`chat-message ${message.sender.id === currentUser?.id ? 'own' : ''}`}\n            >\n              {message.sender.id !== currentUser?.id && (\n                <div className=\"chat-message-avatar\">\n                  {message.sender.username[0].toUpperCase()}\n                </div>\n              )}\n              <div className=\"chat-message-content\">\n                {message.sender.id !== currentUser?.id && (\n                  <div className=\"chat-message-sender\">{message.sender.username}</div>\n                )}\n                <div className=\"chat-message-bubble\">\n                  {message.content}\n                </div>\n                <div className=\"chat-message-time\">\n                  {new Date(message.created_at).toLocaleTimeString('ru-RU', {\n                    hour: '2-digit',\n                    minute: '2-digit'\n                  })}\n                </div>\n              </div>\n            </div>\n          ))\n        )}\n        <div ref={messagesEndRef} />\n      </div>\n\n      <form className=\"chat-window-input\" onSubmit={handleSendMessage}>\n        <input\n          ref={inputRef}\n          type=\"text\"\n          value={newMessage}\n          onChange={(e) => setNewMessage(e.target.value)}\n          placeholder=\"Введите сообщение...\"\n          className=\"chat-input\"\n        />\n        <button type=\"submit\" className=\"chat-send-btn\" disabled={!newMessage.trim()}>\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M22 2L11 13M22 2L15 22L11 13M22 2L2 9L11 13\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n          </svg>\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default ChatWindow;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}