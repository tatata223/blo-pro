{"ast":null,"code":"import React,{useRef,useEffect,useState,useCallback}from'react';import ReactQuill from'react-quill';import'react-quill/dist/quill.snow.css';import'./RichTextEditor.css';import{jsx as _jsx}from\"react/jsx-runtime\";const RichTextEditor=_ref=>{let{value,onChange,placeholder='',autoFocus=false}=_ref;const quillRef=useRef(null);const[wordCount,setWordCount]=useState(0);const[charCount,setCharCount]=useState(0);const modules={toolbar:[[{'font':['','Inter','Roboto','Open Sans','Lato','Montserrat','Poppins','Raleway','Ubuntu','Source Sans Pro','Oswald','PT Sans','Roboto Slab','Nunito','Work Sans','DM Sans','Manrope','Space Grotesk','Plus Jakarta Sans','Outfit','Sora','Epilogue','Figtree','Times New Roman','Georgia','Verdana','Courier New','Arial','Comic Sans MS','Playfair Display','Merriweather','Lora','Crimson Text','Crimson Pro','EB Garamond','Libre Baskerville','PT Serif','Source Serif Pro','Vollkorn','Arvo','Bitter','Libre Caslon Text','Old Standard TT','Domine','Lusitana','Spectral','Zilla Slab','Dancing Script','Pacifico','Indie Flower','Shadows Into Light','Amatic SC','Kalam','Caveat','Permanent Marker','Cinzel','Bodoni Moda','Cormorant Garamond','Alegreya','Yeseva One','Taviraj','Trirong']}],[{'header':[1,2,3,false]}],[{'size':['small',false,'large','huge']}],['bold','italic','underline'],[{'color':[]},{'background':[]}],[{'list':'ordered'},{'list':'bullet'}],[{'align':[]}],['clean']]};const formats=['font','header','size','bold','italic','underline','color','background','list','bullet','align'];const handleChange=useCallback((content,delta,source,editor)=>{const text=editor.getText();const words=text.trim().split(/\\s+/).filter(word=>word.length>0);setWordCount(words.length);setCharCount(text.length);onChange(content);},[onChange]);useEffect(()=>{if(value){var _quillRef$current,_quillRef$current$get;const text=((_quillRef$current=quillRef.current)===null||_quillRef$current===void 0?void 0:(_quillRef$current$get=_quillRef$current.getEditor())===null||_quillRef$current$get===void 0?void 0:_quillRef$current$get.getText())||'';const words=text.trim().split(/\\s+/).filter(word=>word.length>0);setWordCount(words.length);setCharCount(text.length);}},[value]);// Auto-focus при монтировании компонента\nuseEffect(()=>{if(autoFocus&&quillRef.current){const editor=quillRef.current.getEditor();if(editor){// Небольшая задержка для гарантии, что редактор полностью инициализирован\nsetTimeout(()=>{editor.focus();},100);}}},[autoFocus]);return/*#__PURE__*/_jsx(\"div\",{className:\"rich-text-editor\",children:/*#__PURE__*/_jsx(ReactQuill,{ref:quillRef,theme:\"snow\",value:value||'',onChange:handleChange,modules:modules,formats:formats,placeholder:placeholder,className:\"quill-editor\"})});};export default RichTextEditor;","map":{"version":3,"names":["React","useRef","useEffect","useState","useCallback","ReactQuill","jsx","_jsx","RichTextEditor","_ref","value","onChange","placeholder","autoFocus","quillRef","wordCount","setWordCount","charCount","setCharCount","modules","toolbar","formats","handleChange","content","delta","source","editor","text","getText","words","trim","split","filter","word","length","_quillRef$current","_quillRef$current$get","current","getEditor","setTimeout","focus","className","children","ref","theme"],"sources":["/Users/mikhail/Downloads/ЗаметкиPARADIZE/frontend/src/components/Notes/RichTextEditor.js"],"sourcesContent":["import React, { useRef, useEffect, useState, useCallback } from 'react';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport './RichTextEditor.css';\n\nconst RichTextEditor = ({ value, onChange, placeholder = '', autoFocus = false }) => {\n  const quillRef = useRef(null);\n  const [wordCount, setWordCount] = useState(0);\n  const [charCount, setCharCount] = useState(0);\n\n  const modules = {\n    toolbar: [\n      [{ 'font': [\n        '', \n        'Inter', 'Roboto', 'Open Sans', 'Lato', 'Montserrat', 'Poppins', 'Raleway', 'Ubuntu',\n        'Source Sans Pro', 'Oswald', 'PT Sans', 'Roboto Slab', 'Nunito', 'Work Sans', 'DM Sans',\n        'Manrope', 'Space Grotesk', 'Plus Jakarta Sans', 'Outfit', 'Sora', 'Epilogue', 'Figtree',\n        'Times New Roman', 'Georgia', 'Verdana', 'Courier New', 'Arial', 'Comic Sans MS',\n        'Playfair Display', 'Merriweather', 'Lora', 'Crimson Text', 'Crimson Pro', 'EB Garamond',\n        'Libre Baskerville', 'PT Serif', 'Source Serif Pro', 'Vollkorn', 'Arvo', 'Bitter',\n        'Libre Caslon Text', 'Old Standard TT', 'Domine', 'Lusitana', 'Spectral', 'Zilla Slab',\n        'Dancing Script', 'Pacifico', 'Indie Flower', 'Shadows Into Light', 'Amatic SC',\n        'Kalam', 'Caveat', 'Permanent Marker', 'Cinzel', 'Bodoni Moda', 'Cormorant Garamond',\n        'Alegreya', 'Yeseva One', 'Taviraj', 'Trirong'\n      ] }],\n      [{ 'header': [1, 2, 3, false] }],\n      [{ 'size': ['small', false, 'large', 'huge'] }],\n      ['bold', 'italic', 'underline'],\n      [{ 'color': [] }, { 'background': [] }],\n      [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n      [{ 'align': [] }],\n      ['clean']\n    ],\n  };\n\n  const formats = [\n    'font',\n    'header',\n    'size',\n    'bold', 'italic', 'underline',\n    'color', 'background',\n    'list', 'bullet',\n    'align'\n  ];\n\n  const handleChange = useCallback((content, delta, source, editor) => {\n    const text = editor.getText();\n    const words = text.trim().split(/\\s+/).filter(word => word.length > 0);\n    setWordCount(words.length);\n    setCharCount(text.length);\n    onChange(content);\n  }, [onChange]);\n\n  useEffect(() => {\n    if (value) {\n      const text = quillRef.current?.getEditor()?.getText() || '';\n      const words = text.trim().split(/\\s+/).filter(word => word.length > 0);\n      setWordCount(words.length);\n      setCharCount(text.length);\n    }\n  }, [value]);\n\n  // Auto-focus при монтировании компонента\n  useEffect(() => {\n    if (autoFocus && quillRef.current) {\n      const editor = quillRef.current.getEditor();\n      if (editor) {\n        // Небольшая задержка для гарантии, что редактор полностью инициализирован\n        setTimeout(() => {\n          editor.focus();\n        }, 100);\n      }\n    }\n  }, [autoFocus]);\n\n  return (\n    <div className=\"rich-text-editor\">\n      <ReactQuill\n        ref={quillRef}\n        theme=\"snow\"\n        value={value || ''}\n        onChange={handleChange}\n        modules={modules}\n        formats={formats}\n        placeholder={placeholder}\n        className=\"quill-editor\"\n      />\n    </div>\n  );\n};\n\nexport default RichTextEditor;\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}