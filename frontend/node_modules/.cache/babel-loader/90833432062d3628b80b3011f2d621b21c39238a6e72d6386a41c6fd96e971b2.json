{"ast":null,"code":"import{useEffect}from'react';/**\n * Хук для обработки клавиатурных сокращений\n * @param {Object} shortcuts - объект с комбинациями клавиш и обработчиками\n * @param {Array} deps - зависимости для useEffect\n * \n * @example\n * useKeyboardShortcuts({\n *   'ctrl+n': () => onCreateNote(),\n *   'ctrl+s': (e) => { e.preventDefault(); onSave(); },\n *   'escape': () => onCancel(),\n * }, [onCreateNote, onSave, onCancel]);\n */export const useKeyboardShortcuts=function(shortcuts){let deps=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];useEffect(()=>{const handleKeyDown=event=>{const key=event.key.toLowerCase();const isMac=navigator.platform.toUpperCase().indexOf('MAC')>=0;const ctrlKey=isMac?event.metaKey:event.ctrlKey;const altKey=event.altKey;const shiftKey=event.shiftKey;// Формируем строку комбинации клавиш\nlet combination='';if(ctrlKey)combination+='ctrl+';if(altKey)combination+='alt+';if(shiftKey)combination+='shift+';combination+=key;// Проверяем, есть ли обработчик для этой комбинации\nconst handler=shortcuts[combination];if(handler){event.preventDefault();handler(event);return;}// Также проверяем без модификаторов\nif(shortcuts[key]){event.preventDefault();shortcuts[key](event);}};window.addEventListener('keydown',handleKeyDown);return()=>{window.removeEventListener('keydown',handleKeyDown);};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[shortcuts,...deps]);};","map":{"version":3,"names":["useEffect","useKeyboardShortcuts","shortcuts","deps","arguments","length","undefined","handleKeyDown","event","key","toLowerCase","isMac","navigator","platform","toUpperCase","indexOf","ctrlKey","metaKey","altKey","shiftKey","combination","handler","preventDefault","window","addEventListener","removeEventListener"],"sources":["/Users/mikhail/Downloads/ЗаметкиPARADIZE/frontend/src/hooks/useKeyboardShortcuts.js"],"sourcesContent":["import { useEffect } from 'react';\n\n/**\n * Хук для обработки клавиатурных сокращений\n * @param {Object} shortcuts - объект с комбинациями клавиш и обработчиками\n * @param {Array} deps - зависимости для useEffect\n * \n * @example\n * useKeyboardShortcuts({\n *   'ctrl+n': () => onCreateNote(),\n *   'ctrl+s': (e) => { e.preventDefault(); onSave(); },\n *   'escape': () => onCancel(),\n * }, [onCreateNote, onSave, onCancel]);\n */\nexport const useKeyboardShortcuts = (shortcuts, deps = []) => {\n  useEffect(() => {\n    const handleKeyDown = (event) => {\n      const key = event.key.toLowerCase();\n      const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;\n      const ctrlKey = isMac ? event.metaKey : event.ctrlKey;\n      const altKey = event.altKey;\n      const shiftKey = event.shiftKey;\n\n      // Формируем строку комбинации клавиш\n      let combination = '';\n      if (ctrlKey) combination += 'ctrl+';\n      if (altKey) combination += 'alt+';\n      if (shiftKey) combination += 'shift+';\n      combination += key;\n\n      // Проверяем, есть ли обработчик для этой комбинации\n      const handler = shortcuts[combination];\n      if (handler) {\n        event.preventDefault();\n        handler(event);\n        return;\n      }\n\n      // Также проверяем без модификаторов\n      if (shortcuts[key]) {\n        event.preventDefault();\n        shortcuts[key](event);\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [shortcuts, ...deps]);\n};\n\n\n\n\n\n\n\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CAEjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,MAAM,CAAAC,oBAAoB,CAAG,QAAAA,CAACC,SAAS,CAAgB,IAAd,CAAAC,IAAI,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CACvDJ,SAAS,CAAC,IAAM,CACd,KAAM,CAAAO,aAAa,CAAIC,KAAK,EAAK,CAC/B,KAAM,CAAAC,GAAG,CAAGD,KAAK,CAACC,GAAG,CAACC,WAAW,CAAC,CAAC,CACnC,KAAM,CAAAC,KAAK,CAAGC,SAAS,CAACC,QAAQ,CAACC,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,KAAK,CAAC,EAAI,CAAC,CAClE,KAAM,CAAAC,OAAO,CAAGL,KAAK,CAAGH,KAAK,CAACS,OAAO,CAAGT,KAAK,CAACQ,OAAO,CACrD,KAAM,CAAAE,MAAM,CAAGV,KAAK,CAACU,MAAM,CAC3B,KAAM,CAAAC,QAAQ,CAAGX,KAAK,CAACW,QAAQ,CAE/B;AACA,GAAI,CAAAC,WAAW,CAAG,EAAE,CACpB,GAAIJ,OAAO,CAAEI,WAAW,EAAI,OAAO,CACnC,GAAIF,MAAM,CAAEE,WAAW,EAAI,MAAM,CACjC,GAAID,QAAQ,CAAEC,WAAW,EAAI,QAAQ,CACrCA,WAAW,EAAIX,GAAG,CAElB;AACA,KAAM,CAAAY,OAAO,CAAGnB,SAAS,CAACkB,WAAW,CAAC,CACtC,GAAIC,OAAO,CAAE,CACXb,KAAK,CAACc,cAAc,CAAC,CAAC,CACtBD,OAAO,CAACb,KAAK,CAAC,CACd,OACF,CAEA;AACA,GAAIN,SAAS,CAACO,GAAG,CAAC,CAAE,CAClBD,KAAK,CAACc,cAAc,CAAC,CAAC,CACtBpB,SAAS,CAACO,GAAG,CAAC,CAACD,KAAK,CAAC,CACvB,CACF,CAAC,CAEDe,MAAM,CAACC,gBAAgB,CAAC,SAAS,CAAEjB,aAAa,CAAC,CAEjD,MAAO,IAAM,CACXgB,MAAM,CAACE,mBAAmB,CAAC,SAAS,CAAElB,aAAa,CAAC,CACtD,CAAC,CACD;AACF,CAAC,CAAE,CAACL,SAAS,CAAE,GAAGC,IAAI,CAAC,CAAC,CAC1B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}