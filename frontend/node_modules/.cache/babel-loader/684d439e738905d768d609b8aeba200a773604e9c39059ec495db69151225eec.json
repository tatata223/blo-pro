{"ast":null,"code":"import _objectSpread from\"/Users/mikhail/Downloads/\\u0417\\u0430\\u043C\\u0435\\u0442\\u043A\\u0438PARADIZE/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import axios from'axios';// Используем относительный путь для работы на одном порту\nconst API_BASE_URL='/api';const api=axios.create({baseURL:API_BASE_URL,withCredentials:true,headers:{'Content-Type':'application/json'}});// Interceptors для обработки ошибок\napi.interceptors.response.use(response=>response,error=>{var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){// Перенаправление на страницу входа при 401\nwindow.location.href='/login';}return Promise.reject(error);});export default api;// API методы для заметок\nexport const notesAPI={getAll:params=>api.get('/notes/',{params}),getById:id=>api.get(\"/notes/\".concat(id,\"/\")),create:data=>api.post('/notes/',data),update:(id,data)=>api.put(\"/notes/\".concat(id,\"/\"),data),delete:id=>api.delete(\"/notes/\".concat(id,\"/\")),pin:id=>api.post(\"/notes/\".concat(id,\"/pin/\")),archive:id=>api.post(\"/notes/\".concat(id,\"/archive/\")),createFromTemplate:templateId=>api.post('/notes/create_from_template/',{template_id:templateId}),moveToFolder:(id,folderId)=>api.post(\"/notes/\".concat(id,\"/move_to_folder/\"),{folder_id:folderId})};// API методы для шаблонов\nexport const templatesAPI={getAll:()=>api.get('/templates/'),getById:id=>api.get(\"/templates/\".concat(id,\"/\"))};// API методы для папок\nexport const foldersAPI={getAll:params=>api.get('/folders/',{params}),getById:id=>api.get(\"/folders/\".concat(id,\"/\")),create:data=>api.post('/folders/',data),update:(id,data)=>api.put(\"/folders/\".concat(id,\"/\"),data),delete:id=>api.delete(\"/folders/\".concat(id,\"/\")),getTree:()=>api.get('/folders/tree/'),toggleFavorite:id=>api.post(\"/folders/\".concat(id,\"/toggle_favorite/\"))};// API методы для тегов\nexport const tagsAPI={getAll:params=>api.get('/tags/',{params}),getById:id=>api.get(\"/tags/\".concat(id,\"/\")),create:data=>api.post('/tags/',data),update:(id,data)=>api.put(\"/tags/\".concat(id,\"/\"),data),delete:id=>api.delete(\"/tags/\".concat(id,\"/\")),getCloud:()=>api.get('/tags/cloud/'),autocomplete:query=>api.get('/tags/autocomplete/',{params:{q:query}}),getStatistics:()=>api.get('/tags/statistics/')};// API методы для аутентификации\nexport const authAPI={login:(username,password)=>api.post('/auth/login/',{username,password}),logout:()=>api.post('/auth/logout/'),register:data=>api.post('/auth/register/',data),getCurrentUser:()=>api.get('/auth/user/')};// Исправление метода создания заметки из шаблона\nnotesAPI.createFromTemplate=templateId=>api.post('/notes/create_from_template/',{template_id:templateId});// API методы для статистики\nexport const statisticsAPI={getUserStatistics:()=>api.get('/users/statistics/'),getUserRating:()=>api.get('/users/rating/'),startTypingSession:noteId=>api.post('/typing-sessions/start/',{note_id:noteId}),endTypingSession:(sessionId,data)=>api.post('/typing-sessions/end/',_objectSpread({session_id:sessionId},data)),sendKeystroke:(sessionId,data)=>api.post('/typing-sessions/keystroke/',_objectSpread({session_id:sessionId},data))};// API методы для экспорта\nnotesAPI.exportPDF=id=>api.post(\"/notes/\".concat(id,\"/export_pdf/\"),{},{responseType:'blob'});notesAPI.exportEmail=(id,data)=>api.post(\"/notes/\".concat(id,\"/export_email/\"),data);notesAPI.exportTelegram=(id,data)=>api.post(\"/notes/\".concat(id,\"/export_telegram/\"),data);notesAPI.exportWhatsApp=id=>api.post(\"/notes/\".concat(id,\"/export_whatsapp/\"),{},{responseType:'blob'});// API методы для профиля\nexport const profileAPI={getUserProfile:userId=>api.get(\"/users/\".concat(userId,\"/profile/\")),updateProfile:data=>api.put('/users/profile/',data),getPublicNotes:userId=>api.get(\"/users/\".concat(userId,\"/notes/public/\")),followUser:userId=>api.post(\"/users/\".concat(userId,\"/follow/\")),unfollowUser:userId=>api.delete(\"/users/\".concat(userId,\"/follow/\")),getFollowers:userId=>api.get(\"/users/\".concat(userId,\"/followers/\")),getFollowing:userId=>api.get(\"/users/\".concat(userId,\"/following/\"))};","map":{"version":3,"names":["axios","API_BASE_URL","api","create","baseURL","withCredentials","headers","interceptors","response","use","error","_error$response","status","window","location","href","Promise","reject","notesAPI","getAll","params","get","getById","id","concat","data","post","update","put","delete","pin","archive","createFromTemplate","templateId","template_id","moveToFolder","folderId","folder_id","templatesAPI","foldersAPI","getTree","toggleFavorite","tagsAPI","getCloud","autocomplete","query","q","getStatistics","authAPI","login","username","password","logout","register","getCurrentUser","statisticsAPI","getUserStatistics","getUserRating","startTypingSession","noteId","note_id","endTypingSession","sessionId","_objectSpread","session_id","sendKeystroke","exportPDF","responseType","exportEmail","exportTelegram","exportWhatsApp","profileAPI","getUserProfile","userId","updateProfile","getPublicNotes","followUser","unfollowUser","getFollowers","getFollowing"],"sources":["/Users/mikhail/Downloads/ЗаметкиPARADIZE/frontend/src/api/api.js"],"sourcesContent":["import axios from 'axios';\n\n// Используем относительный путь для работы на одном порту\nconst API_BASE_URL = '/api';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  withCredentials: true,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Interceptors для обработки ошибок\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      // Перенаправление на страницу входа при 401\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport default api;\n\n// API методы для заметок\nexport const notesAPI = {\n  getAll: (params) => api.get('/notes/', { params }),\n  getById: (id) => api.get(`/notes/${id}/`),\n  create: (data) => api.post('/notes/', data),\n  update: (id, data) => api.put(`/notes/${id}/`, data),\n  delete: (id) => api.delete(`/notes/${id}/`),\n  pin: (id) => api.post(`/notes/${id}/pin/`),\n  archive: (id) => api.post(`/notes/${id}/archive/`),\n  createFromTemplate: (templateId) => api.post('/notes/create_from_template/', { template_id: templateId }),\n  moveToFolder: (id, folderId) => api.post(`/notes/${id}/move_to_folder/`, { folder_id: folderId }),\n};\n\n// API методы для шаблонов\nexport const templatesAPI = {\n  getAll: () => api.get('/templates/'),\n  getById: (id) => api.get(`/templates/${id}/`),\n};\n\n// API методы для папок\nexport const foldersAPI = {\n  getAll: (params) => api.get('/folders/', { params }),\n  getById: (id) => api.get(`/folders/${id}/`),\n  create: (data) => api.post('/folders/', data),\n  update: (id, data) => api.put(`/folders/${id}/`, data),\n  delete: (id) => api.delete(`/folders/${id}/`),\n  getTree: () => api.get('/folders/tree/'),\n  toggleFavorite: (id) => api.post(`/folders/${id}/toggle_favorite/`),\n};\n\n// API методы для тегов\nexport const tagsAPI = {\n  getAll: (params) => api.get('/tags/', { params }),\n  getById: (id) => api.get(`/tags/${id}/`),\n  create: (data) => api.post('/tags/', data),\n  update: (id, data) => api.put(`/tags/${id}/`, data),\n  delete: (id) => api.delete(`/tags/${id}/`),\n  getCloud: () => api.get('/tags/cloud/'),\n  autocomplete: (query) => api.get('/tags/autocomplete/', { params: { q: query } }),\n  getStatistics: () => api.get('/tags/statistics/'),\n};\n\n// API методы для аутентификации\nexport const authAPI = {\n  login: (username, password) => api.post('/auth/login/', { username, password }),\n  logout: () => api.post('/auth/logout/'),\n  register: (data) => api.post('/auth/register/', data),\n  getCurrentUser: () => api.get('/auth/user/'),\n};\n\n// Исправление метода создания заметки из шаблона\nnotesAPI.createFromTemplate = (templateId) => \n  api.post('/notes/create_from_template/', { template_id: templateId });\n\n// API методы для статистики\nexport const statisticsAPI = {\n  getUserStatistics: () => api.get('/users/statistics/'),\n  getUserRating: () => api.get('/users/rating/'),\n  startTypingSession: (noteId) => api.post('/typing-sessions/start/', { note_id: noteId }),\n  endTypingSession: (sessionId, data) => api.post('/typing-sessions/end/', { session_id: sessionId, ...data }),\n  sendKeystroke: (sessionId, data) => api.post('/typing-sessions/keystroke/', { session_id: sessionId, ...data }),\n};\n\n// API методы для экспорта\nnotesAPI.exportPDF = (id) => api.post(`/notes/${id}/export_pdf/`, {}, { responseType: 'blob' });\nnotesAPI.exportEmail = (id, data) => api.post(`/notes/${id}/export_email/`, data);\nnotesAPI.exportTelegram = (id, data) => api.post(`/notes/${id}/export_telegram/`, data);\nnotesAPI.exportWhatsApp = (id) => api.post(`/notes/${id}/export_whatsapp/`, {}, { responseType: 'blob' });\n\n// API методы для профиля\nexport const profileAPI = {\n  getUserProfile: (userId) => api.get(`/users/${userId}/profile/`),\n  updateProfile: (data) => api.put('/users/profile/', data),\n  getPublicNotes: (userId) => api.get(`/users/${userId}/notes/public/`),\n  followUser: (userId) => api.post(`/users/${userId}/follow/`),\n  unfollowUser: (userId) => api.delete(`/users/${userId}/follow/`),\n  getFollowers: (userId) => api.get(`/users/${userId}/followers/`),\n  getFollowing: (userId) => api.get(`/users/${userId}/following/`),\n};\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}