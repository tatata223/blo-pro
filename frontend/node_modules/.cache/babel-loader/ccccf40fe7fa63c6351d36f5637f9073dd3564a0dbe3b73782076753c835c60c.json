{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{useNavigate}from'react-router-dom';import'./UserDropdown.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserDropdown=_ref=>{var _user$username,_user$username$;let{user,onLogout,onCreateNote}=_ref;const[isOpen,setIsOpen]=useState(false);const dropdownRef=useRef(null);const navigate=useNavigate();useEffect(()=>{const handleClickOutside=event=>{if(dropdownRef.current&&!dropdownRef.current.contains(event.target)){setIsOpen(false);}};if(isOpen){document.addEventListener('mousedown',handleClickOutside);}return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[isOpen]);const handleItemClick=action=>{setIsOpen(false);if(action==='create'){onCreateNote();}else if(action==='logout'){onLogout();}else if(action==='settings'){// TODO: –û—Ç–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏\nconsole.log('Settings');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"user-dropdown\",ref:dropdownRef,children:[/*#__PURE__*/_jsxs(\"button\",{className:\"user-dropdown-trigger\",onClick:()=>setIsOpen(!isOpen),title:user===null||user===void 0?void 0:user.username,children:[/*#__PURE__*/_jsx(\"span\",{className:\"user-avatar\",children:(user===null||user===void 0?void 0:(_user$username=user.username)===null||_user$username===void 0?void 0:(_user$username$=_user$username[0])===null||_user$username$===void 0?void 0:_user$username$.toUpperCase())||'üë§'}),/*#__PURE__*/_jsx(\"span\",{className:\"user-name\",children:user===null||user===void 0?void 0:user.username}),/*#__PURE__*/_jsx(\"span\",{className:\"dropdown-arrow\",children:isOpen?'‚ñ≤':'‚ñº'})]}),isOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"user-dropdown-menu\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"dropdown-username\",children:user===null||user===void 0?void 0:user.username}),/*#__PURE__*/_jsx(\"span\",{className:\"dropdown-email\",children:(user===null||user===void 0?void 0:user.email)||''})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-divider\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"dropdown-item\",onClick:()=>handleItemClick('create'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"dropdown-icon\",children:\"\\u2795\"}),\"\\u041D\\u043E\\u0432\\u0430\\u044F \\u0437\\u0430\\u043C\\u0435\\u0442\\u043A\\u0430\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"dropdown-item\",onClick:()=>handleItemClick('settings'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"dropdown-icon\",children:\"\\u2699\\uFE0F\"}),\"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-divider\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"dropdown-item dropdown-item-danger\",onClick:()=>handleItemClick('logout'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"dropdown-icon\",children:\"\\uD83D\\uDEAA\"}),\"\\u0412\\u044B\\u0439\\u0442\\u0438\"]})]})]});};export default UserDropdown;","map":{"version":3,"names":["React","useState","useRef","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","UserDropdown","_ref","_user$username","_user$username$","user","onLogout","onCreateNote","isOpen","setIsOpen","dropdownRef","navigate","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleItemClick","action","console","log","className","ref","children","onClick","title","username","toUpperCase","email"],"sources":["/Users/mikhail/Downloads/–ó–∞–º–µ—Ç–∫–∏PARADIZE/frontend/src/components/Header/UserDropdown.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './UserDropdown.css';\n\nconst UserDropdown = ({ user, onLogout, onCreateNote }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const dropdownRef = useRef(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsOpen(false);\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isOpen]);\n\n  const handleItemClick = (action) => {\n    setIsOpen(false);\n    if (action === 'create') {\n      onCreateNote();\n    } else if (action === 'logout') {\n      onLogout();\n    } else if (action === 'settings') {\n      // TODO: –û—Ç–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏\n      console.log('Settings');\n    }\n  };\n\n  return (\n    <div className=\"user-dropdown\" ref={dropdownRef}>\n      <button\n        className=\"user-dropdown-trigger\"\n        onClick={() => setIsOpen(!isOpen)}\n        title={user?.username}\n      >\n        <span className=\"user-avatar\">{user?.username?.[0]?.toUpperCase() || 'üë§'}</span>\n        <span className=\"user-name\">{user?.username}</span>\n        <span className=\"dropdown-arrow\">{isOpen ? '‚ñ≤' : '‚ñº'}</span>\n      </button>\n\n      {isOpen && (\n        <div className=\"user-dropdown-menu\">\n          <div className=\"dropdown-header\">\n            <span className=\"dropdown-username\">{user?.username}</span>\n            <span className=\"dropdown-email\">{user?.email || ''}</span>\n          </div>\n          <div className=\"dropdown-divider\"></div>\n          <button\n            className=\"dropdown-item\"\n            onClick={() => handleItemClick('create')}\n          >\n            <span className=\"dropdown-icon\">‚ûï</span>\n            –ù–æ–≤–∞—è –∑–∞–º–µ—Ç–∫–∞\n          </button>\n          <button\n            className=\"dropdown-item\"\n            onClick={() => handleItemClick('settings')}\n          >\n            <span className=\"dropdown-icon\">‚öôÔ∏è</span>\n            –ù–∞—Å—Ç—Ä–æ–π–∫–∏\n          </button>\n          <div className=\"dropdown-divider\"></div>\n          <button\n            className=\"dropdown-item dropdown-item-danger\"\n            onClick={() => handleItemClick('logout')}\n          >\n            <span className=\"dropdown-icon\">üö™</span>\n            –í—ã–π—Ç–∏\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default UserDropdown;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}