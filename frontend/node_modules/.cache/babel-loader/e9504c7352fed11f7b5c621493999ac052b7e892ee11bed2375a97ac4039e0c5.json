{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = 'http://localhost:8000/api';\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  withCredentials: true,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Interceptors для обработки ошибок\napi.interceptors.response.use(response => response, error => {\n  var _error$response;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    // Перенаправление на страницу входа при 401\n    window.location.href = '/login';\n  }\n  return Promise.reject(error);\n});\nexport default api;\n\n// API методы для заметок\nexport const notesAPI = {\n  getAll: params => api.get('/notes/', {\n    params\n  }),\n  getById: id => api.get(`/notes/${id}/`),\n  create: data => api.post('/notes/', data),\n  update: (id, data) => api.put(`/notes/${id}/`, data),\n  delete: id => api.delete(`/notes/${id}/`),\n  pin: id => api.post(`/notes/${id}/pin/`),\n  archive: id => api.post(`/notes/${id}/archive/`),\n  createFromTemplate: templateId => api.post('/notes/create_from_template/', {\n    template_id: templateId\n  })\n};\n\n// API методы для шаблонов\nexport const templatesAPI = {\n  getAll: () => api.get('/templates/'),\n  getById: id => api.get(`/templates/${id}/`)\n};\n\n// API методы для папок\nexport const foldersAPI = {\n  getAll: () => api.get('/folders/'),\n  getById: id => api.get(`/folders/${id}/`),\n  create: data => api.post('/folders/', data),\n  update: (id, data) => api.put(`/folders/${id}/`, data),\n  delete: id => api.delete(`/folders/${id}/`)\n};\n\n// API методы для тегов\nexport const tagsAPI = {\n  getAll: () => api.get('/tags/'),\n  getById: id => api.get(`/tags/${id}/`),\n  create: data => api.post('/tags/', data),\n  update: (id, data) => api.put(`/tags/${id}/`, data),\n  delete: id => api.delete(`/tags/${id}/`)\n};\n\n// API методы для аутентификации\nexport const authAPI = {\n  login: (username, password) => api.post('/auth/login/', {\n    username,\n    password\n  }),\n  logout: () => api.post('/auth/logout/'),\n  register: data => api.post('/auth/register/', data),\n  getCurrentUser: () => api.get('/auth/user/')\n};\n\n// Исправление метода создания заметки из шаблона\nnotesAPI.createFromTemplate = templateId => api.post('/notes/create_from_template/', {\n  template_id: templateId\n});","map":{"version":3,"names":["axios","API_BASE_URL","api","create","baseURL","withCredentials","headers","interceptors","response","use","error","_error$response","status","window","location","href","Promise","reject","notesAPI","getAll","params","get","getById","id","data","post","update","put","delete","pin","archive","createFromTemplate","templateId","template_id","templatesAPI","foldersAPI","tagsAPI","authAPI","login","username","password","logout","register","getCurrentUser"],"sources":["/Users/mikhail/Downloads/ЗаметкиPARADIZE/frontend/src/api/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = 'http://localhost:8000/api';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  withCredentials: true,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Interceptors для обработки ошибок\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      // Перенаправление на страницу входа при 401\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport default api;\n\n// API методы для заметок\nexport const notesAPI = {\n  getAll: (params) => api.get('/notes/', { params }),\n  getById: (id) => api.get(`/notes/${id}/`),\n  create: (data) => api.post('/notes/', data),\n  update: (id, data) => api.put(`/notes/${id}/`, data),\n  delete: (id) => api.delete(`/notes/${id}/`),\n  pin: (id) => api.post(`/notes/${id}/pin/`),\n  archive: (id) => api.post(`/notes/${id}/archive/`),\n  createFromTemplate: (templateId) => api.post('/notes/create_from_template/', { template_id: templateId }),\n};\n\n// API методы для шаблонов\nexport const templatesAPI = {\n  getAll: () => api.get('/templates/'),\n  getById: (id) => api.get(`/templates/${id}/`),\n};\n\n// API методы для папок\nexport const foldersAPI = {\n  getAll: () => api.get('/folders/'),\n  getById: (id) => api.get(`/folders/${id}/`),\n  create: (data) => api.post('/folders/', data),\n  update: (id, data) => api.put(`/folders/${id}/`, data),\n  delete: (id) => api.delete(`/folders/${id}/`),\n};\n\n// API методы для тегов\nexport const tagsAPI = {\n  getAll: () => api.get('/tags/'),\n  getById: (id) => api.get(`/tags/${id}/`),\n  create: (data) => api.post('/tags/', data),\n  update: (id, data) => api.put(`/tags/${id}/`, data),\n  delete: (id) => api.delete(`/tags/${id}/`),\n};\n\n// API методы для аутентификации\nexport const authAPI = {\n  login: (username, password) => api.post('/auth/login/', { username, password }),\n  logout: () => api.post('/auth/logout/'),\n  register: (data) => api.post('/auth/register/', data),\n  getCurrentUser: () => api.get('/auth/user/'),\n};\n\n// Исправление метода создания заметки из шаблона\nnotesAPI.createFromTemplate = (templateId) => \n  api.post('/notes/create_from_template/', { template_id: templateId });\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}